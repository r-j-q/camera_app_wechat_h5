{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/examWidght/examWidght/index.vue?14be","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/examWidght/examWidght/index.vue?fce3","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/examWidght/examWidght/index.vue?758a","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/examWidght/examWidght/index.vue?47fa","uni-app:///examWidght/examWidght/index.vue","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/examWidght/examWidght/index.vue?effd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uSticky","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"yIAAA,KAGA,YACA,Y,mDAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,gECLX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,uHAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCjCvB,8GAAm1B,eAAG,G,8HC+Bt1B,QAGA,Q,0iCASA,E,2QACA,CACA,YACA,aACA,gBAKA,eACA,+BAEA,KAXA,WAYA,OAEA,cACA,gBACA,YAGA,cAEA,YAEA,gBAEA,oBACA,gBACA,iBACA,eACA,eACA,gBACA,SACA,oBAKA,YACA,iBACA,cACA,eAEA,QACA,SACA,YACA,SAGA,mBACA,cACA,WAEA,eACA,QACA,WACA,iBACA,eACA,UAGA,UA5DA,WA6DA,kBAEA,OA/DA,SA+DA,GAIA,SAHA,OACA,0BAEA,UACA,cACA,UACA,cACA,gCACA,yBACA,eAEA,mFAEA,iCAEA,iEAOA,kBAtFA,SAsFA,GACA,WAEA,GACA,wEACA,uCACA,YACA,oBAEA,UAEA,gBAEA,2CAEA,aAMA,UAEA,OA7GA,WA8GA,2BAGA,SACA,2BACA,UAGA,aALA,WAMA,oBACA,aACA,YACA,qBAHA,CASA,uBACA,iBACA,6CACA,mBAEA,aApBA,WAqBA,uBACA,gCAMA,OALA,wBACA,aACA,YACA,kBAIA,oDAOA,iBACA,6CACA,sBARA,aACA,YACA,gBASA,aA1CA,SA0CA,GAEA,6DACA,4DACA,0DACA,kBAIA,iBAnDA,SAmDA,GAEA,8BACA,6DACA,4DACA,0DACA,qBAJA,CAaA,gCAEA,+DACA,8DACA,0DAEA,mBAaA,cArFA,SAqFA,GACA,WACA,KACA,uBACA,oBACA,UAEA,MACA,YAEA,iBACA,aAEA,cAGA,0BAGA,cACA,mFAGA,uBACA,aACA,gBAGA,yBAIA,uBAKA,aACA,mBAKA,SAhIA,SAgIA,eACA,kBACA,WACA,YACA,WACA,UACA,WACA,UAEA,oBACA,gCACA,qBACA,MAGA,iBAEA,cACA,oCAEA,aACA,YACA,mBAKA,SA3JA,SA2JA,GAEA,gDAEA,WACA,MACA,uBACA,oBACA,MACA,UAGA,MACA,YAEA,gBACA,eADA,yBACA,IADA,kEACA,WADA,oBACA,WAEA,qBAKA,YAlLA,SAkLA,GACA,0BACA,+CACA,yCAEA,EAEA,eAGA,wBAKA,UAjMA,SAiMA,GACA,gDACA,WACA,MACA,wBACA,oBACA,MACA,UAGA,MACA,YACA,yBAGA,iCACA,oEACA,4BAMA,6BAxNA,SAwNA,8HACA,oCADA,SAEA,WACA,KACA,MACA,oBACA,UAEA,MACA,YAIA,GADA,qBACA,gBACA,mCACA,cACA,uFAGA,aACA,mCACA,OACA,YACA,oFACA,oBACA,wBACA,mBACA,2FAEA,mBA7BA,8CA4CA,uBApQA,SAoQA,GACA,WACA,KACA,4CACA,oBACA,UAEA,MACA,YACA,iCACA,qBACA,iCACA,mBACA,mDACA,0BACA,8BAEA,kDAEA,qCACA,kBAEA,eACA,SACA,iBACA,8BACA,yBACA,QACA,gBACA,wBAGA,2BAIA,6BACA,gCACA,kDAWA,WArTA,SAqTA,WAKA,oBACA,oDAQA,8BACA,4BACA,mBACA,gBAGA,OAEA,cACA,eACA,qFAGA,uBACA,gDAEA,eACA,kBAEA,WACA,MACA,8CACA,oBACA,MACA,UAKA,MACA,YACA,kBACA,gBAEA,6CAzCA,aACA,YACA,gBA8CA,UA5WA,SA4WA,GACA,oEACA,wBACA,SACA,gBAEA,eACA,KACA,oEACA,cACA,WACA,SAEA,wBACA,kCACA,uCACA,0BACA,yBAEA,gCACA,uBACA,6BACA,6DACA,UAEA,8C,2ECliBA,8GAAwtC,eAAG,G","file":"examWidght/examWidght/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './examWidght/examWidght/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6306eb14&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6306eb14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6306eb14\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"examWidght/examWidght/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6306eb14&scoped=true&\"","var components\ntry {\n  components = {\n    uSticky: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-sticky/u-sticky\" */ \"uview-ui/components/u-sticky/u-sticky.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<u-sticky>\r\n\t\t\t<LineProgress :currentIndex=\"currentIndex\" :total=\"total\" />\r\n\t\t</u-sticky>\r\n\r\n\t\t<swiper :current=\"currentIndex\" style=\"height: 98vh;\">\r\n\t\t\t<swiper-item style=\"overflow-y: scroll;\" v-for=\"(item, indexa) in QuestionListAll\" :key=\"indexa\" m\r\n\t\t\t\tcatchtouchmove='catchTouchMove'>\r\n\t\t\t\t<scroll-view scroll-x @scrolltolower=\"\">\r\n\t\t\t\t\t<exam-widght :total=\"total\" :currentIndex=\"currentIndex\" :QuestionList=\"QuestionList\"\r\n\t\t\t\t\t\t@goPrevAnswer=\"goPrevAnswer\" @goNextAnswer=\"goNextAnswer\" @onItemAnswer=\"onItemAnswer\"\r\n\t\t\t\t\t\t@subMitList=\"subMitList\" @onListItemAnswer=\"onListItemAnswer\" />\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef  H5\r\n\timport {\r\n\t\turl\r\n\t} from \"@/common/config.js\"\r\n\timport mumuGetlocation from '@/uni_modules/mumu-getlocation/components/mumu-getlocation/mumu-getlocation.vue'\r\n\t// #endif\r\n\r\n\timport examWidght from '@/examWidght/components/Li-ExamWidght/Li-ExamWidght.vue';\r\n\timport LineProgress from '@/examWidght/components/lineProgress';\r\n\t// https://ext.dcloud.net.cn/plugin?id=706\r\n\timport {\r\n\t\tmapGetters\r\n\t} from \"vuex\";\r\n\timport {\r\n\t\tgetScaleInfo,\r\n\t\tgetResult,\r\n\t\tqueryPromotionBySubjectId,\r\n\t\tnative,\r\n\t\tqueryOrder,\r\n\t\th5Pay\r\n\r\n\t} from \"@/api/index.js\";\r\n\tvar _this;\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\texamWidght,\r\n\t\t\tLineProgress,\r\n\t\t\t// #ifdef  H5\r\n\t\t\tmumuGetlocation\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters([\"userInfo\"]),\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 全部题目\r\n\t\t\t\tscale_infos: [{\r\n\t\t\t\t\tquestionType: \"\",\r\n\t\t\t\t\tanswer: \"\"\r\n\t\t\t\t}],\r\n\t\t\t\t// 当前索引\r\n\t\t\t\tscale_index: 0,\r\n\t\t\t\t//题目总数\r\n\t\t\t\tscale_all: 0,\r\n\t\t\t\t// 答案数据\r\n\t\t\t\tscale_result: [],\r\n\t\t\t\t//备选答案数组\r\n\t\t\t\tscale_checkItems: [],\r\n\t\t\t\tscale_percent: 0,\r\n\t\t\t\tcheckedCities: [],\r\n\t\t\t\tlastText: \"上一题\", //上一题\r\n\t\t\t\tnextText: \"下一题\", //下一题\r\n\t\t\t\tfinishText: \"完成\",\r\n\t\t\t\tradio: \"\",\r\n\t\t\t\tscale_result_all: [], //答题总数\r\n\r\n\r\n\r\n\r\n\t\t\t\tlistIndex: 0,\r\n\t\t\t\tshowIndexText: false,\r\n\t\t\t\tnumBoxShow: false,\r\n\t\t\t\tquestionType: 0,\r\n\r\n\t\t\t\tflag: \"\",\r\n\t\t\t\tprice: \"\",\r\n\t\t\t\tresultId: \"\",\r\n\t\t\t\ttimer: \"\",\r\n\r\n\r\n\t\t\t\tQuestionListAll: [],\r\n\t\t\t\tQuestionList: {\r\n\t\t\t\t\tanswer: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\torderNo: \"\",\r\n\t\t\t\treportVersion: \"\",\r\n\t\t\t\thandleNumber: 1,\r\n\t\t\t\tname: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\t_this.handleNumber = 1;\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\t_this = this;\r\n\t\t\tconsole.log(\"options2\", options)\r\n\r\n\t\t\tif (options.flag) {\r\n\t\t\t\t_this.flag = options.flag;\r\n\t\t\t\t_this.id = options.id;\r\n\t\t\t\t_this.name = options.name;\r\n\t\t\t\t_this.reportVersion = options.reportVersion;\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\ttitle: options.name\r\n\t\t\t\t});\r\n\t\t\t\tif (_this.userInfo?.user?.id != \"\") {\r\n\r\n\t\t\t\t\t_this.getScaleInfoAnswerList(options.flag)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgetApp().jumpToLoginParams(_this.flag, _this.id, _this.name, _this.reportVersion)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShareAppMessage(options) {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tvar shareObj = {\r\n\t\t\t\tpath: \"/examWidght/examWidght/index?flag=\" + that.flag + \"&id=\" + that.id + \"&name=\" + that\r\n\t\t\t\t\t.name + \"&reportVersion=\" + that.reportVersion, // 默认是当前页面，必须是以‘/'开头的完整路径\r\n\t\t\t\timageUrl: '', //自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径，支持PNG及JPG，不传入 imageUrl 则使用默认截图。显示图片长宽比是 5:4\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t// 转发成功之后的回调\r\n\t\t\t\t\tif (res.errMsg == 'shareAppMessage:ok') {}\r\n\t\t\t\t},\r\n\t\t\t\tfail: function() {\r\n\t\t\t\t\t// 转发失败之后的回调\r\n\t\t\t\t\tif (res.errMsg == 'shareAppMessage:fail cancel') {\r\n\t\t\t\t\t\t// 用户取消转发\r\n\t\t\t\t\t} else if (res.errMsg == 'shareAppMessage:fail') {\r\n\t\t\t\t\t\t// 转发失败，其中 detail message 为详细失败信息\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\treturn shareObj;\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tclearInterval(this.timer);\r\n\t\t\t// https://blog.csdn.net/weixin_42738504/article/details/125521004\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcatchTouchMove: function(res) {\r\n\t\t\t\treturn false\r\n\t\t\t},\r\n\r\n\t\t\tgoPrevAnswer() {\r\n\t\t\t\tif (_this.currentIndex < 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"已经是第一题\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet newIndex = _this.currentIndex - 1\r\n\t\t\t\t_this.currentIndex = newIndex;\r\n\t\t\t\tlet QuestionListNew = Object.assign({}, _this.QuestionListAll[newIndex]);\r\n\t\t\t\t_this.QuestionList = QuestionListNew\r\n\t\t\t},\r\n\t\t\tgoNextAnswer() {\r\n\t\t\t\tlet newIndexs = _this.currentIndex + 1\r\n\t\t\t\tif (newIndexs > _this.QuestionListAll.length - 1) {\r\n\t\t\t\t\t_this.currentIndex = newIndexs - 1;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"已经是最后一题\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (_this.QuestionListAll[_this.currentIndex].fldAnswer == \"\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"请先答题\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t_this.currentIndex = newIndexs;\r\n\t\t\t\tlet QuestionListNew = Object.assign({}, _this.QuestionListAll[newIndexs]);\r\n\t\t\t\t_this.QuestionList = QuestionListNew\r\n\r\n\t\t\t},\r\n\t\t\tonItemAnswer(item) {\r\n\r\n\t\t\t\t_this.QuestionListAll[_this.currentIndex].checkItems = item.fldOptionText;\r\n\t\t\t\t_this.QuestionListAll[_this.currentIndex].fldAnswer = item.fldOptionText;\r\n\t\t\t\tlet QuestionListNew = Object.assign({}, _this.QuestionListAll[_this.currentIndex]);\r\n\t\t\t\t_this.QuestionList = QuestionListNew\r\n\r\n\t\t\t},\r\n\r\n\t\t\tonListItemAnswer(item) {\r\n\r\n\t\t\t\tif (_this.currentIndex >= _this.total - 1) {\r\n\t\t\t\t\t_this.QuestionListAll[_this.currentIndex].checkItems = item.fldOptionText;\r\n\t\t\t\t\t_this.QuestionListAll[_this.currentIndex].fldAnswer = item.fldOptionText;\r\n\t\t\t\t\tlet QuestionListNew = Object.assign({}, _this.QuestionListAll[_this.currentIndex]);\r\n\t\t\t\t\t_this.QuestionList = QuestionListNew;\r\n\t\t\t\t\t// if (_this.handleNumber == 1) {\r\n\t\t\t\t\t// \t_this.subMitList();\r\n\t\t\t\t\t// }\r\n\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t_this.currentIndex = _this.currentIndex + 1;\r\n\r\n\t\t\t\t\t_this.QuestionListAll[_this.currentIndex - 1].checkItems = item.fldOptionText;\r\n\t\t\t\t\t_this.QuestionListAll[_this.currentIndex - 1].fldAnswer = item.fldOptionText;\r\n\t\t\t\t\tlet QuestionListNew = Object.assign({}, _this.QuestionListAll[_this.currentIndex]);\r\n\r\n\t\t\t\t\t_this.QuestionList = QuestionListNew;\r\n\r\n\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 订单状态\r\n\t\t\tgetQueryOrder(orderNo) {\r\n\t\t\t\t_this.$request\r\n\t\t\t\t\t.get({\r\n\t\t\t\t\t\turl: queryOrder + '/' + orderNo,\r\n\t\t\t\t\t\tloadingTip: \"加载中...\",\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\r\n\t\t\t\t\t\t\tlet queryOrderNo = JSON.parse(\r\n\t\t\t\t\t\t\t\tres.data.body\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (res.code == \"200\") {\r\n\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\tqueryOrderNo.trade_state == \"SUCCESS\"\r\n\t\t\t\t\t\t\t\t) {\r\n\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl: \"/scaleTestResults/testResults/index?resultId=\" + _this.resultId+\"&messageShare=1\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tclearInterval(_this.timer);\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"支付成功\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t} else if (queryOrderNo.trade_state == \"CLOSED\") {\r\n\t\t\t\t\t\t\t\t\t// console.log(\"订单支付回调成功===========CLOSED》\", _this.trade_state_closed );\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\tclearInterval(_this.timer);\r\n\r\n\t\t\t\t\t\t\t\t\t// console.log(\"订单支付回调成功CLOSED===========》\", _this.trade_state_closed);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"支付失败\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpayWchat(provider, timeStamp, nonceStr, packages, signType, paySign, orderNo) {\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider,\r\n\t\t\t\t\ttimeStamp,\r\n\t\t\t\t\tnonceStr,\r\n\t\t\t\t\tpackage: packages,\r\n\t\t\t\t\tsignType,\r\n\t\t\t\t\tpaySign,\r\n\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t_this.timer = setInterval(() => {\r\n\t\t\t\t\t\t\t_this.getQueryOrder(orderNo)\r\n\t\t\t\t\t\t}, 1000)\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: \"/scalePage/testRecord/index\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\ttitle: \"支付失败\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetH5Pay(params) {\r\n\r\n\t\t\t\tlet pra = _this.$CryptoJS.AesEncrypt(JSON.stringify(params))\r\n\r\n\t\t\t\t_this.$request\r\n\t\t\t\t\t.post({\r\n\t\t\t\t\t\turl: `${h5Pay}`,\r\n\t\t\t\t\t\tloadingTip: \"加载中...\",\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdata: pra\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\r\n\t\t\t\t\t\t\tlet pay =\r\n\t\t\t\t\t\t\t\t`${res.data.codeUrl}&redirect_url=${url}/h5/index.html#/scalePage/paymentStatus/index?resultId=${_this.resultId}&orderNo=${_this.orderNo}`;\r\n\t\t\t\t\t\t\t// window.open(pay);\r\n\t\t\t\t\t\t\t_this.navigationF(pay)\r\n\t\t\t\t\t\t\t// /#/scaleTestResults/testResults/index\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnavigationF(url) {\r\n\t\t\t\tvar u = navigator.userAgent;\r\n\t\t\t\tvar isAndroid = u.indexOf(\"Android\") > -1 || u.indexOf(\"Adr\") > -1; //android终端\r\n\t\t\t\tvar isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n\r\n\t\t\t\tif (isAndroid) {\r\n\t\t\t\t\t//android终端\r\n\t\t\t\t\twindow.open(url);\r\n\t\t\t\t} else if (isiOS) {\r\n\t\t\t\t\t//ios终端\r\n\t\t\t\t\twindow.location.href = url;\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow.location.href = url;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetNative(params) {\r\n\t\t\t\tlet pra = _this.$CryptoJS.AesEncrypt(JSON.stringify(params))\r\n\t\t\t\t_this.$request\r\n\t\t\t\t\t.post({\r\n\t\t\t\t\t\turl: `${native}`,\r\n\t\t\t\t\t\tloadingTip: \"加载中...\",\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdata: pra\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t_this.orderNo = res.data.orderNo;\r\n\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\r\n\t\t\t\t\t\t\tlet pay = JSON.parse(res.data.codeUrl);\r\n\t\t\t\t\t\t\t_this.payWchat(pay.provider, pay.timeStamp, pay.nonceStr, pay.package, pay.signType, pay\r\n\t\t\t\t\t\t\t\t.paySign, res.data.orderNo)\r\n\t\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取支付金额\r\n\t\t\tasync getQueryPromotionBySubjectId(id) {\r\n\t\t\t\tlet urls = queryPromotionBySubjectId + \"/\" + id;\r\n\t\t\t\tawait _this.$request\r\n\t\t\t\t\t.get({\r\n\t\t\t\t\t\turl: urls,\r\n\t\t\t\t\t\tloadingTip: \"加载中...\",\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t \r\n\r\n\t\t\t\t\t\t\t_this.price = res.data.price;\r\n\t\t\t\t\t\t\tif (res.data.price == 0) {\n\t\t\t\t\t\t\t\tconsole.log(\"=获取支付金额接口数据==1==》\", res)\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl: \"/scaleTestResults/testResults/index?resultId=\" + _this.resultId+\"&messageShare=1\"\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.log(\"=获取支付金额接口数据=2===》\", res)\r\n\t\t\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\t\t\tproductId: id,\r\n\t\t\t\t\t\t\t\t\tuserId: _this.userInfo?.user?.id,\r\n\t\t\t\t\t\t\t\t\tresultId: _this.resultId,\r\n\t\t\t\t\t\t\t\t\tdescription: res.data.name,\r\n\t\t\t\t\t\t\t\t\ttotal: res.data.price,\r\n\t\t\t\t\t\t\t\t\topenId: _this.userInfo?.openId?.openId,\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t_this.getNative(params)\r\n\t\t\t\t\t\t\t\t// #ifdef H5 \r\n\t\t\t\t\t\t\t\tlet ips = \"125.70.61.175\"\r\n\t\t\t\t\t\t\t\tparams.payerClientIp = sessionStorage.getItem('ip') || ips;\r\n\t\t\t\t\t\t\t\tparams.sceneType = uni.getSystemInfoSync().platform == 'android' ? \"Android\" : \"iOS\";\r\n\r\n\t\t\t\t\t\t\t\t_this.getH5Pay(params)\r\n\r\n\t\t\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetScaleInfoAnswerList(flag) {\r\n\t\t\t\t_this.$request\r\n\t\t\t\t\t.get({\r\n\t\t\t\t\t\turl: `${getScaleInfo}/${flag}`,\r\n\t\t\t\t\t\tloadingTip: \"加载中...\",\r\n\t\t\t\t\t\tdata: {},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\tif (res.code == 200 && res.data.length > 0) {\r\n\t\t\t\t\t\t\t\t_this.scale_infos = res.data;\r\n\t\t\t\t\t\t\t\t_this.scale_all = _this.scale_infos.length;\r\n\t\t\t\t\t\t\t\t_this.scale_checkItems =\r\n\t\t\t\t\t\t\t\t\t_this.scale_infos[_this.scale_index].checkItems.split(\"；\");\r\n\t\t\t\t\t\t\t\t_this.scale_percent = parseInt(\r\n\t\t\t\t\t\t\t\t\t(_this.scale_index + 1) / _this.scale_all\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t_this.scale_percent = ((_this.scale_index + 1) * 100) / _this.scale_all;\r\n\t\t\t\t\t\t\t\tlet listAll = [];\r\n\t\t\t\t\t\t\t\t_this.scale_infos.forEach((item, index) => {\r\n\t\t\t\t\t\t\t\t\titem.questionID = item.id;\r\n\t\t\t\t\t\t\t\t\t// item.fldName = item.answer;\r\n\t\t\t\t\t\t\t\t\titem.fldAnswer = \"\";\r\n\t\t\t\t\t\t\t\t\tlet QuestionOptionList = []\r\n\t\t\t\t\t\t\t\t\tif (item.checkItems) {\r\n\t\t\t\t\t\t\t\t\t\tlet arrList = item.checkItems.split(\"；\");\r\n\t\t\t\t\t\t\t\t\t\tarrList.forEach((items, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\tQuestionOptionList.push({\r\n\t\t\t\t\t\t\t\t\t\t\t\tfldOptionText: items,\r\n\t\t\t\t\t\t\t\t\t\t\t\tfldOptionIndex: i + 1\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\titem.QuestionOptionList = QuestionOptionList\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t_this.total = _this.scale_infos.length\r\n\t\t\t\t\t\t\t\t_this.QuestionListAll = _this.scale_infos;\r\n\t\t\t\t\t\t\t\t_this.QuestionList = _this.scale_infos[_this.currentIndex];\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\r\n\r\n\r\n\t\t\tsubMitList(flag) {\r\n\t\t\t\t// _this.handleNumber = 2\r\n\t\t\t\t// if (_this.handleNumber == 1) {\r\n\t\t\t\t// \t_this.subMitList();\r\n\t\t\t\t// }\r\n\t\t\t\tlet subMitListData = _this.QuestionListAll;\r\n\t\t\t\tif (_this.QuestionListAll[_this.currentIndex].fldAnswer == \"\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"请先答题\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsubMitListData.forEach((item) => {\r\n\t\t\t\t\tdelete item.QuestionOptionList;\r\n\t\t\t\t\tdelete item.fldAnswer;\r\n\t\t\t\t\tdelete item.questionID;\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet params = {\r\n\r\n\t\t\t\t\ttestPlanId: \"\",\r\n\t\t\t\t\tscale_result: subMitListData,\r\n\t\t\t\t\tuserId: _this.userInfo?.user?.id\r\n\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"提交的参数\", params)\r\n\t\t\t\tlet par = _this.$CryptoJS.AesEncrypt(JSON.stringify(params));\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '测试结果生成中'\r\n\t\t\t\t});\r\n\t\t\t\t_this.$request\r\n\t\t\t\t\t.post({\r\n\t\t\t\t\t\turl: `${getResult}/${_this.flag}`,\r\n\t\t\t\t\t\tloadingTip: \"加载中...\",\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdata: par\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\t\t_this.resultId = res.data;\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t// 答题结束获取支付\r\n\t\t\t\t\t\t\t_this.getQueryPromotionBySubjectId(_this.id)\r\n\r\n\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取用户本地ip的方法\r\n\t\t\tgetUserIP(onNewIP) {\r\n\t\t\t\tlet MyPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window\r\n\t\t\t\t\t.webkitRTCPeerConnection;\r\n\t\t\t\tlet pc = new MyPeerConnection({\r\n\t\t\t\t\ticeServers: []\r\n\t\t\t\t});\r\n\t\t\t\tlet noop = () => {};\r\n\t\t\t\tlet localIPs = {};\r\n\t\t\t\tlet ipRegex = /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g;\r\n\t\t\t\tlet iterateIP = (ip) => {\r\n\t\t\t\t\tif (!localIPs[ip]) onNewIP(ip);\r\n\t\t\t\t\tlocalIPs[ip] = true;\r\n\t\t\t\t};\r\n\t\t\t\tpc.createDataChannel('');\r\n\t\t\t\tpc.createOffer().then((sdp) => {\r\n\t\t\t\t\tsdp.sdp.split('\\n').forEach(function(line) {\r\n\t\t\t\t\t\tif (line.indexOf('candidate') < 0) return;\r\n\t\t\t\t\t\tline.match(ipRegex).forEach(iterateIP);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tpc.setLocalDescription(sdp, noop, noop);\r\n\t\t\t\t}).catch((reason) => {});\r\n\t\t\t\tpc.onicecandidate = (ice) => {\r\n\t\t\t\t\tif (!ice || !ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate\r\n\t\t\t\t\t\t.match(ipRegex))\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tice.candidate.candidate.match(ipRegex).forEach(iterateIP);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t/deep/ uni-swiper {\r\n\t\tmin-height: 80VH;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6306eb14&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6306eb14&scoped=true&lang=css&\""],"sourceRoot":""}