{"version":3,"sources":["uni-app:///main.js","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/cognitiveTasksPage/continueAdditionTask.vue?39d1","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/cognitiveTasksPage/continueAdditionTask.vue?0536","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/cognitiveTasksPage/continueAdditionTask.vue?2d01","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/cognitiveTasksPage/continueAdditionTask.vue?4050","uni-app:///cognitiveTasksPage/continueAdditionTask.vue","webpack:////Users/yangqinglong/Documents/zz/camera_app_wechat_h5/cognitiveTasksPage/continueAdditionTask.vue?c8d0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uButton","uLineProgress","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":"qJAAA,KAGA,YACA,Y,mDAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,gECLX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,8CACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,sHAITC,cAAe,WACb,OAAO,qIAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCtCvB,8GAAm1B,eAAG,G,8HC+It1B,QAIA,S,4iCAEA,CACA,4BACA,KAFA,WAGA,OACA,mBACA,UACA,cACA,kBACA,YACA,UACA,YACA,iBACA,oBACA,cACA,gBACA,gBACA,kBACA,eACA,YACA,qBACA,mBACA,gBACA,gBACA,aACA,aACA,cACA,cACA,cACA,cACA,cACA,yBACA,YACA,cACA,aACA,qBACA,iBACA,aACA,aACA,WACA,kBACA,cACA,UACA,WACA,oBAMA,OAjDA,WAoDA,8BACA,gCACA,YACA,gBACA,kBAEA,mBACA,wBACA,uBACA,iBACA,eACA,iBACA,sBACA,yBACA,mBACA,qBACA,qBACA,uBACA,oBACA,iBACA,0BACA,wBACA,qBACA,qBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,8BACA,iBACA,mBACA,kBACA,0BACA,sBACA,kBACA,kBACA,gBACA,uBACA,mBAIA,kCAEA,UAnGA,WAqGA,sCACA,kCAEA,qBAcA,kBAtHA,SAsHA,GAEA,OACA,0GACA,YACA,oBAEA,UAEA,gBACA,2CAEA,aAMA,qBACA,iBAEA,4GAGA,UAEA,SA4BA,KA5BA,WA+BA,gDAKA,UApCA,SAoCA,GA0DA,GAxDA,kBACA,sBACA,sBAEA,kBAEA,sBAEA,8BASA,kBACA,gBACA,uCACA,wBACA,kBACA,mBAIA,kBACA,uBACA,sBACA,sDAOA,sBACA,8BAKA,kBACA,gBACA,gEACA,wBACA,kBACA,kBAGA,uBACA,sBACA,qDAIA,yCAKA,OAJA,eACA,iBACA,0BACA,0BAIA,eACA,8BAGA,UA1GA,WA2GA,0CAMA,OALA,aACA,YACA,qBAEA,iCAKA,6BAEA,iBACA,mBACA,yBACA,kBAGA,qBACA,iBAEA,sBACA,oBAKA,QAtIA,WAyIA,sBAEA,kCAKA,oBACA,oDACA,uBACA,qBACA,mBACA,yBACA,kBACA,iCAKA,aACA,YACA,6BAOA,oBACA,uBACA,mBACA,kBACA,yBACA,aACA,YACA,iCAIA,iCACA,yBAIA,sBAGA,kBACA,wBAGA,aACA,YACA,gBAEA,mBACA,yBACA,uBAGA,YArMA,WAqMA,WAEA,0CACA,oBACA,uBAGA,aACA,eAEA,gBAEA,oBACA,cACA,YACA,cACA,mBACA,sBACA,gBACA,kBACA,kBACA,oBACA,iBACA,cACA,uBACA,qBACA,kBACA,kBACA,eACA,eACA,gBACA,gBACA,gBACA,gBACA,gBACA,2BACA,cACA,gBACA,eACA,uBACA,mBACA,eACA,eACA,aACA,oBACA,gBAEA,aACA,YACA,iCAIA,8BACA,wBAGA,MAEA,UAhQA,WAgQA,WAEA,0BACA,kBAGA,qBAEA,YAEA,iBACA,uBAEA,MAEA,sBA/QA,WAiRA,iBAGA,IAFA,SACA,IACA,iCACA,mCACA,KACA,SAEA,yCACA,yBAEA,eA5RA,WA4RA,WAoBA,kFACA,MACA,+BAEA,0BACA,0BACA,WAKA,aA3TA,WA4TA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,wBACA,qBACA,+BAEA,iBAvUA,WAyUA,mCACA,sCAoBA,yCACA,QACA,8BACA,qCAEA,kCAGM,KAAN,uGACM,KAAN,sBAEA,mBAzWA,WAyWA,WAEA,OACA,iBAGA,+CACA,cACA,MACA,sBACA,MACA,UAGA,MACA,YACA,0CAEA,uBAGA,aACA,6CAMA,YACA,aACA,kBAMA,aA7YA,SA6YA,uIACA,yBADA,OAEA,6BACA,uBACA,EACA,cACA,uDAGA,cACA,kFACA,kBAEA,2BAGA,KAhBA,gD,2EClrBA,8GAAktC,eAAG,G","file":"cognitiveTasksPage/continueAdditionTask.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './cognitiveTasksPage/continueAdditionTask.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./continueAdditionTask.vue?vue&type=template&id=27db0954&scoped=true&\"\nvar renderjs\nimport script from \"./continueAdditionTask.vue?vue&type=script&lang=js&\"\nexport * from \"./continueAdditionTask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./continueAdditionTask.vue?vue&type=style&index=0&id=27db0954&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27db0954\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"cognitiveTasksPage/continueAdditionTask.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./continueAdditionTask.vue?vue&type=template&id=27db0954&scoped=true&\"","var components\ntry {\n  components = {\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uLineProgress: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-line-progress/u-line-progress\" */ \"uview-ui/components/u-line-progress/u-line-progress.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./continueAdditionTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./continueAdditionTask.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div>\r\n\t\t<!-- <van-nav-bar\r\n                :title=\"subjectInfo.name\"\r\n                left-text=\"返回\"\r\n                left-arrow\r\n                @click-left=\"goBack\"\r\n        /> -->\r\n\r\n\r\n\r\n\t\t<div v-if=\"!testResultDivShow\" class=\"explan\">\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<!-- <p>{{ subjectInfo.mobileTestDescription }}</p> -->\r\n\t\t\t\t<p>连续加法测试练习次数：2次两个数加法，2次三个数加法，2次四个数加法。练习结束后自动判断被试成绩，全部回答正确，说明您已掌握测试规则，请点击开始按钮，进入正式测试。否则请您认真阅读测试规则，点击重新测试按钮继续练习。\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"btnArea\">\r\n\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"startTest\"\r\n\t\t\t\t\tclass=\"content_app11 textColorff weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t{{ buttonName }}\r\n\t\t\t\t</u-button>\r\n\t\t\t\t<!-- <van-button round block type=\"info\" @click=\"startTest()\">{{ buttonName }}</van-button> -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div v-if=\"testResultDivShow\" class=\"testResultDiv\">\r\n\t\t\t<table class=\"test_result\">\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>指标名称</th>\r\n\t\t\t\t\t<th>测试结果</th>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>测试题目总数：</td>\r\n\t\t\t\t\t<td>{{ totalCount }}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>正确题目数：</td>\r\n\t\t\t\t\t<td>{{ rightCount }}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>测试成绩：</td>\r\n\t\t\t\t\t<td>{{ userScore }}</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\r\n\t\t<div v-if=\"testFlag\" class=\"activeTask\"\r\n\t\t\t:style=\"'background-image: url(' + add_bg + ');background-size: cover;background-repeat: no-repeat;'\">\r\n\r\n\r\n\t\t\t<div v-if=\"testTypeCode == 1\" class=\"progress-content\">\r\n\t\t\t\t<u-line-progress height=\"34rpx\" :percentage=\"((300 - countDownTime) / 300) * 100\" pivot-text=\"任务进度\"\r\n\t\t\t\t\tcolor=\"#f2826a\">\r\n\r\n\t\t\t\t\t<text v-if=\"countDownTime < 260\" class=\"fontSize12\">任务进度</text>\r\n\t\t\t\t\t<text v-else class=\"fontSize12\"></text>\r\n\t\t\t\t</u-line-progress>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div v-if=\"answerButtonShow\" class=\"digital-input-content\">\r\n\r\n\r\n\r\n\t\t\t\t<div class=\"add-mid\"\r\n\t\t\t\t\t:style=\"'background-image: url(' + add_mid + ');background-size: cover;background-repeat: no-repeat;'\">\r\n\t\t\t\t\t<p class=\"digital-show\">\r\n\t\t\t\t\t\t<span class=\"bn-in\"> {{ showSpanText }}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div class=\"num-btn\">\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(1)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   weight fontSize30 mt10 \" shape=\"circle\">\r\n\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<view class=\"w_10\"> </view>\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(2)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   mrl mrr weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<view class=\"w_10\"> </view>\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(3)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t3\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<!-- <van-button round type=\"info\" @click=\"userClick(1)\">1</van-button>\r\n\t\t\t\t\t\t<van-button round type=\"info\" @click=\"userClick(2)\">2</van-button>\r\n\t\t\t\t\t\t<van-button round type=\"info\" @click=\"userClick(3)\">3</van-button> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"num-btn\">\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(4)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t4\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<view class=\"w_10\"> </view>\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(5)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11  mrl mrr  weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t5\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<view class=\"w_10\"> </view>\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(6)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t6\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<!-- <van-button round type=\"info\" @click=\"userClick(4)\">4</van-button>\r\n\t\t\t\t\t\t<van-button round type=\"info\" @click=\"userClick(5)\">5</van-button>\r\n\t\t\t\t\t\t<van-button round type=\"info\" @click=\"userClick(6)\">6</van-button> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"num-btn\">\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(7)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t7\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<view class=\"w_10\"> </view>\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(8)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11    weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t8\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<view class=\"w_10\"> </view>\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(9)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11   weight fontSize30 mt10\" shape=\"circle\">\r\n\t\t\t\t\t\t\t9\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<!-- <van-button round type=\"info\" @click=\"userClick(7)\">7</van-button>\r\n\t\t\t\t\t\t<van-button round type=\"info\" @click=\"userClick(8)\">8</van-button>\r\n\t\t\t\t\t\t<van-button round type=\"info\" @click=\"userClick(9)\">9</van-button> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"num-btn\">\r\n\t\t\t\t\t\t<u-button type=\"success\" size=\"large\" @click=\"userClick(0)\"\r\n\t\t\t\t\t\t\tclass=\"content_app11 textColorff weight fontSize30 mt10\" shape=\"circle\"\r\n\t\t\t\t\t\t\tstyle=\"width: 60px;\">\r\n\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t</u-button>\r\n\t\t\t\t\t\t<!-- <van-button round type=\"info\" @click=\"userClick('0')\">0</van-button> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n\tcognizeADDITION,\r\n\tsubjectInfoGetSubjectByFlag\r\n} from \"@/api/index.js\"\r\nimport { taskImgs } from \"./data/continueAdditionTask.js\";\r\n\r\nexport default {\r\n\tname: \"continueAdditionTask\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcountDownTime30: 30,\r\n\t\t\tuserId: \"\",\r\n\t\t\ttestResult: {},\r\n\t\t\tcountDownTime: 300, //倒计时时长\r\n\t\t\ttestCount: 6,\r\n\t\t\ttaskId: \"\", // 认知任务id\r\n\t\t\tsaveFlag: false, //结果保存按钮显示标志\r\n\t\t\tsubjectInfo: null, //认知任务详情\r\n\t\t\tanswerButtonShow: false,\r\n\t\t\tbuttonShow: true, // 控制按钮显示隐藏\r\n\t\t\tpassTestExam: false, //练习测试通过标识\r\n\t\t\ttestType: \"练习测试\", // 正式测试\r\n\t\t\tbuttonName: \"开始练习\", // 正式测试  // 重新练习\r\n\t\t\ttestTypeCode: 0, // 0-练习测试 1-正式测试 2-重新测试\r\n\t\t\ttestFlag: false, //true继续测试，false结束测试\r\n\t\t\tcountDownInterval: \"\", //倒计时定时器\r\n\t\t\tadditionNumCount: 2, //当前轮需要计算的数字个数\r\n\t\t\tcurrentAnswer: 0, //当前题答案\r\n\t\t\tshowSpanText: \"\", //显示题目文本\r\n\t\t\ttotalCount: 0, //测试总次数\r\n\t\t\trightCount: 0, //正确总次数\r\n\t\t\trightCount2: 0, //n个数相加正确次数\r\n\t\t\trightCount3: 0,\r\n\t\t\trightCount4: 0,\r\n\t\t\trightCount5: 0,\r\n\t\t\trightCount6: 0,\r\n\t\t\tcurrentRoundRightCount: 0, //当前轮正确次数\r\n\t\t\tstepWidth: 1, //练习测试时步长为2，正式测试为1\r\n\t\t\tstepEndFlag: 6,\r\n\t\t\ttestState: false,\r\n\t\t\ttestResultDivShow: false, //控制测试结果显示\r\n\t\t\ttestResultStr: \"\", //测试结果\r\n\t\t\tuserScore: \"\", //用户总成绩\r\n\t\t\trightThree: 0, //连续对3次\r\n\t\t\twrongTwo: 0, //连续错两次\r\n\t\t\trightCountList: [], //统计每个层级答对个数\r\n\t\t\ttestPlanId: \"\",\r\n\t\t\tadd_bg: \"\",\r\n\t\t\tadd_mid: \"\",\r\n\t\t\tmyInterval30: null\r\n\t\t\t// add_bg:this.$imageUrl.urls.add_bg,\r\n\t\t\t// add_mid:this.$imageUrl.urls.add_mid,\r\n\t\t};\r\n\t},\r\n\t// 页面初始化函数\r\n\tonShow() {\r\n\r\n\r\n\t\tthis.add_bg = taskImgs.add_bg;\r\n\t\tthis.add_mid = taskImgs.add_mid;\r\n\t\tthis.init();\r\n\t\tthis.divShow = false;\r\n\t\tthis.testState = false;\r\n\r\n\t\tthis.testResult = {}\r\n\t\tthis.countDownTime30 = 30\r\n\t\tthis.countDownTime = 300 //倒计时时长\r\n\t\tthis.testCount = 6\r\n\t\tthis.taskId = \"\" // 认知任务id\r\n\t\tthis.saveFlag = false //结果保存按钮显示标志\r\n\t\tthis.subjectInfo = null //认知任务详情\r\n\t\tthis.answerButtonShow = false\r\n\t\tthis.buttonShow = true // 控制按钮显示隐藏\r\n\t\tthis.passTestExam = false //练习测试通过标识\r\n\t\tthis.testType = \"练习测试\"// 正式测试\r\n\t\tthis.buttonName = \"开始练习\" // 正式测试  // 重新练习\r\n\t\tthis.testTypeCode = 0 // 0-练习测试 1-正式测试 2-重新测试\r\n\t\tthis.testFlag = false //true继续测试，false结束测试\r\n\t\tthis.countDownInterval = \"\" //倒计时定时器\r\n\t\tthis.additionNumCount = 2//当前轮需要计算的数字个数\r\n\t\tthis.currentAnswer = 0 //当前题答案\r\n\t\tthis.showSpanText = \"\"//显示题目文本\r\n\t\tthis.totalCount = 0 //测试总次数\r\n\t\tthis.rightCount = 0 //正确总次数\r\n\t\tthis.rightCount2 = 0 //n个数相加正确次数\r\n\t\tthis.rightCount3 = 0\r\n\t\tthis.rightCount4 = 0\r\n\t\tthis.rightCount5 = 0\r\n\t\tthis.rightCount6 = 0\r\n\t\tthis.currentRoundRightCount = 0//当前轮正确次数\r\n\t\tthis.stepWidth = 1 //练习测试时步长为2，正式测试为1\r\n\t\tthis.stepEndFlag = 6\r\n\t\tthis.testState = false\r\n\t\tthis.testResultDivShow = false //控制测试结果显示\r\n\t\tthis.testResultStr = \"\" //测试结果\r\n\t\tthis.userScore = \"\" //用户总成绩\r\n\t\tthis.rightThree = 0 //连续对3次\r\n\t\tthis.wrongTwo = 0 //连续错两次\r\n\t\tthis.rightCountList = [] //统计每个层级答对个数\r\n\t\tthis.testPlanId = \"\"\r\n\r\n\t\t// clearInterval(this.divShowInteval);\r\n\t\t// clearInterval(this.countDownInterval);\r\n\t\tclearInterval(this.myInterval30);\r\n\t},\r\n\tdestroyed() {\r\n\t\t// clearInterval(this.divShowInteval);\r\n\t\tclearInterval(this.countDownInterval);\r\n\t\tclearInterval(this.myInterval30);\r\n\t},\r\n\tmounted: function () {\r\n\t\tvar _this = this;\r\n\t\t// #ifdef H5\r\n\t\tdocument.onkeydown = function (e) {\r\n\t\t\tlet key = window.event.keyCode;\r\n\t\t\tif (key === 122) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\tif ((57 >= key && key >= 48) || (105 >= key && key >= 96))\r\n\t\t\t\t_this.userClick(window.event.key);\r\n\t\t};\r\n\t\t// #endif\r\n\r\n\t},\r\n\tonShareAppMessage(options) {\r\n\r\n\t\tvar shareObj = {\r\n\t\t\tpath: '/cognitiveTasksPage/continueAdditionTask?examWidght=continueAdditionTask&FROMTO=cognitiveTasksPage', // 默认是当前页面，必须是以‘/'开头的完整路径\r\n\t\t\timageUrl: '', //自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径，支持PNG及JPG，不传入 imageUrl 则使用默认截图。显示图片长宽比是 5:4\r\n\t\t\tsuccess: function (res) {\r\n\t\t\t\t// 转发成功之后的回调\r\n\t\t\t\tif (res.errMsg == 'shareAppMessage:ok') { }\r\n\t\t\t},\r\n\t\t\tfail: function () {\r\n\t\t\t\tif (res.errMsg == 'shareAppMessage:fail cancel') {\r\n\r\n\t\t\t\t} else if (res.errMsg == 'shareAppMessage:fail') {\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif (options.from == 'button') {\r\n\t\t\tvar eData = options.target.dataset;\r\n\r\n\t\t\tshareObj.path = '/cognitiveTasksPage/continueAdditionTask?examWidght=continueAdditionTask&FROMTO=cognitiveTasksPage';\r\n\t\t}\r\n\r\n\t\treturn shareObj;\r\n\t},\r\n\tmethods: {\r\n\t\t// handleGetSubjectByFlag(id) {\r\n\t\t// \tthis.$request.get({\r\n\t\t// \t\t\turl: `${subjectInfoGetSubjectByFlag}/${id}`,\r\n\t\t// \t\t\tloadingTip: \"加载中...\",\r\n\t\t// \t\t\tdata: {},\r\n\t\t// \t\t})\r\n\t\t// \t\t.then(\r\n\t\t// \t\t\t(response) => {\r\n\t\t// \t\t\t\t// this.subjectInfo\r\n\t\t// \t\t\t\t// let params = encodeURIComponent(JSON.stringify(response.data[0]));\r\n\r\n\t\t// \t\t\t\tconsole.log(\"===1211=======>\", response)\r\n\t\t// \t\t\t})\r\n\t\t// },\r\n\t\t// goBack() {\r\n\t\t//     if(this.testPlanId) {\r\n\t\t//         //来自测试计划列表\r\n\t\t//         this.$router.push({\r\n\t\t//             name: \"testPlanClassify\",\r\n\t\t//             params: {\r\n\t\t//                 testPlanId: this.testPlanId,\r\n\t\t//             },\r\n\t\t//         });\r\n\t\t//     }else {\r\n\t\t//         this.$router.push(\"/index/cognitionTask\");\r\n\t\t//     }\r\n\t\t// },\r\n\t\tinit() {\r\n\t\t\t// \"8af178857cc99369017cc99495660002\"\r\n\t\t\t// this.testPlanId = options.testPlanId || '';\r\n\t\t\tthis.userId = this.$store.state.userInfo.user.id;\r\n\t\t\t// this.subjectInfo = JSON.parse(sessionStorage.getItem('subjectInfo'));\r\n\r\n\t\t\t// this.imgUrl = this.subjectInfo.imageUrl;\r\n\t\t},\r\n\t\tuserClick(answer) {\r\n\t\t\t//用户点击动作\r\n\t\t\tthis.totalCount++;\r\n\t\t\tif (answer == this.currentAnswer) {\r\n\t\t\t\tif (this.testTypeCode == 1) {\r\n\t\t\t\t\t//正确次数\r\n\t\t\t\t\tthis.rightCount++;\r\n\t\t\t\t\t//当前数字个数计算正确数加1\r\n\t\t\t\t\tthis.nNumRightCount();\r\n\t\t\t\t\t//本轮正确次数\r\n\t\t\t\t\tthis.currentRoundRightCount++;\r\n\t\t\t\t\t// if (\r\n\t\t\t\t\t//   this.additionNumCount <= 6 &&\r\n\t\t\t\t\t//   this.currentRoundRightCount == this.additionNumCount\r\n\t\t\t\t\t// ) {\r\n\t\t\t\t\t//   this.currentRoundRightCount = 0;\r\n\t\t\t\t\t//   this.additionNumCount =\r\n\t\t\t\t\t//     this.additionNumCount + 1 > 6 ? 6 : this.additionNumCount + 1;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tthis.rightThree++;\r\n\t\t\t\t\tthis.wrongTwo = 0;\r\n\t\t\t\t\tif (this.rightThree >= 3 && this.wrongTwo == 0) {\r\n\t\t\t\t\t\tthis.additionNumCount++;\r\n\t\t\t\t\t\tthis.rightThree = 0;\r\n\t\t\t\t\t\tthis.wrongTwo = 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.rightCount++;\r\n\t\t\t\t\tif (this.totalCount % 2 == 0) {\r\n\t\t\t\t\t\tthis.additionNumCount =\r\n\t\t\t\t\t\t\tthis.additionNumCount + 1 > 6 ? 6 : this.additionNumCount + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//分练习时和正式测试时两种情况,练习测试时，不加处理\r\n\r\n\t\t\t\t//正式测试时要做降级处理\r\n\t\t\t\tif (this.testTypeCode == 1) {\r\n\t\t\t\t\tthis.currentRoundRightCount = 0;\r\n\t\t\t\t\t// this.additionNumCount -= 1;\r\n\t\t\t\t\t// if (this.additionNumCount == 1) {\r\n\t\t\t\t\t//   this.additionNumCount = 2;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tthis.rightThree = 0;\r\n\t\t\t\t\tthis.wrongTwo++;\r\n\t\t\t\t\tif (this.additionNumCount > 2 && this.rightThree == 0 && this.wrongTwo >= 2) {\r\n\t\t\t\t\t\tthis.additionNumCount--;\r\n\t\t\t\t\t\tthis.rightThree = 0;\r\n\t\t\t\t\t\tthis.wrongTwo = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.totalCount % 2 == 0) {\r\n\t\t\t\t\t\tthis.additionNumCount =\r\n\t\t\t\t\t\t\tthis.additionNumCount + 1 > 6 ? 6 : this.additionNumCount + 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.totalCount == 6 && this.testTypeCode == 0) {\r\n\t\t\t\tthis.testEnd();\r\n\t\t\t\tthis.testFlag = false;\r\n\t\t\t\tthis.showSpanText = \"\";\r\n\t\t\t\tthis.answerButtonShow = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//生成下一道题\r\n\t\t\tif (this.testFlag) {\r\n\t\t\t\tthis.createComputeSpanText();\r\n\t\t\t}\r\n\t\t},\r\n\t\tstartTest() {\r\n\t\t\tif (this.$store.state.userInfo.user.id == \"\") {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\ttitle: '请先登录！'\r\n\t\t\t\t})\r\n\t\t\t\tgetApp().jumpToTestRecordLogin()\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//开始测试\r\n\t\t\tthis.createComputeSpanText();\r\n\t\t\t// 按钮隐藏\r\n\t\t\tthis.testFlag = true;\r\n\t\t\tthis.buttonShow = false;\r\n\t\t\tthis.answerButtonShow = true;\r\n\t\t\tthis.testState = true;\r\n\r\n\t\t\t//练习测试时进行倒计时，正式测试时进行测试测试校验\r\n\t\t\tif (this.testTypeCode == 1) {\r\n\t\t\t\tthis.countDown();\r\n\t\t\t} else {\r\n\t\t\t\tif (this.testTypeCode == 0) {\r\n\t\t\t\t\tthis.countDown30()\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\ttestEnd() {\r\n\r\n\t\t\t//计算练习成绩\r\n\t\t\tif (this.testTypeCode == 0) {\r\n\r\n\t\t\t\tif (this.totalCount == this.rightCount) {\r\n\t\t\t\t\t//通过测试\r\n\t\t\t\t\t//开始正式测试\r\n\r\n\t\t\t\t\t// this.subjectInfo.testDescription = this.subjectInfo.testExplain;\r\n\t\t\t\t\tthis.testTypeCode = 1;\r\n\t\t\t\t\tconsole.log(\"--正式测试222----->\", this.testTypeCode)\r\n\t\t\t\t\tthis.buttonName = \"正式测试\";\r\n\t\t\t\t\tthis.testType = \"正式测试\";\r\n\t\t\t\t\tthis.buttonShow = true;\r\n\t\t\t\t\tthis.answerButtonShow = true;\r\n\t\t\t\t\tthis.testState = false;\r\n\t\t\t\t\tclearInterval(this.myInterval30);\r\n\t\t\t\t\t// this.$message({\r\n\t\t\t\t\t//     message: \"通过练习测试，开始进行正式测试！\",\r\n\t\t\t\t\t//     type: \"success\",\r\n\t\t\t\t\t// });\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: '通过练习测试，开始进行正式测试！'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t//this.pageDataInit()\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//重新测试\r\n\r\n\t\t\t\t\tthis.testTypeCode = 0;\r\n\t\t\t\t\tthis.buttonName = \"重新测试\";\r\n\t\t\t\t\tthis.buttonShow = true;\r\n\t\t\t\t\tthis.testState = false;\r\n\t\t\t\t\tthis.answerButtonShow = true;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"测试未通过，请点击'重新测试'按钮继续练习！\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// this.countDown30()\r\n\t\t\t\t\t// 清除定时器\r\n\t\t\t\t\tclearInterval(this.myInterval30);\r\n\t\t\t\t\tthis.countDownTime30 = 30;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.pageDataInit();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.testState = false;\r\n\t\t\t\tthis.getUserTestScore();\r\n\r\n\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\ttitle: '测试结束！'\r\n\t\t\t\t})\r\n\t\t\t\tthis.buttonShow = false;\r\n\t\t\t\tthis.answerButtonShow = false;\r\n\t\t\t\tthis.showSpanText = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tcountDown30() {\r\n\t\t\t// 测试时间倒计时\r\n\t\t\tthis.myInterval30 = setInterval(() => {\r\n\t\t\t\tthis.countDownTime30--; \r\n\t\t\t\tif (this.countDownTime30 == 0) {\r\n \r\n\t\t\t\t\t\t//计算测试结果 \r\n\t\t\t\t\tthis.divShow = false;\r\n\t\t\t\t\tthis.testState = false;\r\n\r\n\t\t\t\t\tthis.testResult = {}\r\n\r\n\t\t\t\t\tthis.countDownTime = 300 //倒计时时长\r\n\t\t\t\t\tthis.testCount = 6\r\n\t\t\t\t\tthis.taskId = \"\" // 认知任务id\r\n\t\t\t\t\tthis.saveFlag = false //结果保存按钮显示标志\r\n\t\t\t\t\tthis.subjectInfo = null //认知任务详情\r\n\t\t\t\t\tthis.answerButtonShow = false\r\n\t\t\t\t\tthis.buttonShow = true // 控制按钮显示隐藏\r\n\t\t\t\t\tthis.passTestExam = false //练习测试通过标识\r\n\t\t\t\t\tthis.testType = \"练习测试\"// 正式测试\r\n\t\t\t\t\tthis.buttonName = \"开始练习\" // 正式测试  // 重新练习\r\n\t\t\t\t\tthis.testTypeCode = 0 // 0-练习测试 1-正式测试 2-重新测试\r\n\t\t\t\t\tthis.testFlag = false //true继续测试，false结束测试\r\n\t\t\t\t\tthis.countDownInterval = \"\" //倒计时定时器\r\n\t\t\t\t\tthis.additionNumCount = 2//当前轮需要计算的数字个数\r\n\t\t\t\t\tthis.currentAnswer = 0 //当前题答案\r\n\t\t\t\t\tthis.showSpanText = \"\"//显示题目文本\r\n\t\t\t\t\tthis.totalCount = 0 //测试总次数\r\n\t\t\t\t\tthis.rightCount = 0 //正确总次数\r\n\t\t\t\t\tthis.rightCount2 = 0 //n个数相加正确次数\r\n\t\t\t\t\tthis.rightCount3 = 0\r\n\t\t\t\t\tthis.rightCount4 = 0\r\n\t\t\t\t\tthis.rightCount5 = 0\r\n\t\t\t\t\tthis.rightCount6 = 0\r\n\t\t\t\t\tthis.currentRoundRightCount = 0//当前轮正确次数\r\n\t\t\t\t\tthis.stepWidth = 1 //练习测试时步长为2，正式测试为1\r\n\t\t\t\t\tthis.stepEndFlag = 6\r\n\t\t\t\t\tthis.testState = false\r\n\t\t\t\t\tthis.testResultDivShow = false //控制测试结果显示\r\n\t\t\t\t\tthis.testResultStr = \"\" //测试结果\r\n\t\t\t\t\tthis.userScore = \"\" //用户总成绩\r\n\t\t\t\t\tthis.rightThree = 0 //连续对3次\r\n\t\t\t\t\tthis.wrongTwo = 0 //连续错两次\r\n\t\t\t\t\tthis.rightCountList = [] //统计每个层级答对个数\r\n\t\t\t\t\tthis.testPlanId = \"\"\r\n\t\t\t\t\t// this.myInterval30=null\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\ttitle: \"测试未通过，请点击'重新测试'按钮继续练习！\"\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 清除定时器\r\n\t\t\t\t\tclearInterval(this.myInterval30);\r\n\t\t\t\t\tthis.countDownTime30 = 30\r\n\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\tcountDown() {\r\n\t\t\t// 测试时间倒计时\r\n\t\t\tlet myInterval = setInterval(() => {\r\n\t\t\t\tthis.countDownTime--;\r\n \r\n\r\n\t\t\t\tif (this.countDownTime == 0) { \r\n\t\t\t\t\t//计算测试结果\r\n\t\t\t\t\tthis.testEnd();\r\n\t\t\t\t\t// 清除定时器\r\n\t\t\t\t\tclearInterval(myInterval);\r\n\t\t\t\t\tthis.countDownTime = 300;\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\tcreateComputeSpanText() {\r\n\t\t\t//生成下一道题和答案\r\n\t\t\tthis.testCount--;\r\n\t\t\tvar tempSpanText = \"\";\r\n\t\t\tvar additionResult = 0;\r\n\t\t\tfor (var i = this.additionNumCount; i > 0; i--) {\r\n\t\t\t\tvar tempNum = Math.floor(Math.random() * 10);\r\n\t\t\t\tadditionResult += tempNum;\r\n\t\t\t\ttempSpanText += tempNum + \"+\";\r\n\t\t\t}\r\n\t\t\tthis.showSpanText = tempSpanText.substr(0, tempSpanText.length - 1);\r\n\t\t\tthis.currentAnswer = additionResult % 10;\r\n\t\t},\r\n\t\tnNumRightCount() {\r\n\t\t\t// switch (this.additionNumCount) {\r\n\t\t\t//   case 2:\r\n\t\t\t//     this.rightCount2++;\r\n\t\t\t//     break;\r\n\t\t\t//   case 3:\r\n\t\t\t//     this.rightCount3++;\r\n\t\t\t//     break;\r\n\t\t\t//   case 4:\r\n\t\t\t//     this.rightCount4++;\r\n\t\t\t//     break;\r\n\t\t\t//   case 5:\r\n\t\t\t//     this.rightCount5++;\r\n\t\t\t//     break;\r\n\t\t\t//   case 6:\r\n\t\t\t//     this.rightCount6++;\r\n\t\t\t//     break;\r\n\t\t\t//   default:\r\n\t\t\t//     break;\r\n\t\t\t// }\r\n\t\t\tlet isIndex = this.rightCountList.findIndex(item => item.key == this.additionNumCount);\r\n\t\t\tif (isIndex !== -1) {\r\n\t\t\t\tthis.rightCountList[isIndex].value++;\r\n\t\t\t} else {\r\n\t\t\t\tthis.rightCountList.push({\r\n\t\t\t\t\tkey: this.additionNumCount,\r\n\t\t\t\t\tvalue: 1\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tpageDataInit() {\r\n\t\t\tthis.rightCount2 = 0;\r\n\t\t\tthis.rightCount3 = 0;\r\n\t\t\tthis.rightCount4 = 0;\r\n\t\t\tthis.rightCount5 = 0;\r\n\t\t\tthis.rightCount6 = 0;\r\n\t\t\tthis.totalCount = 0;\r\n\t\t\tthis.rightCount = 0;\r\n\t\t\tthis.additionNumCount = 2;\r\n\t\t\tthis.currentAnswer = 0;\r\n\t\t\tthis.currentRoundRightCount = 0;\r\n\t\t},\r\n\t\tgetUserTestScore() {\r\n\t\t\t// console.log(this.rightCountList,\"测试记录列表\")\r\n\t\t\tthis.testResult.userId = this.userId;\r\n\t\t\tthis.testResult.total = this.totalCount;\r\n\t\t\t// this.testResult.testPlanId = this.$route.query.testPlanId;\r\n\t\t\t// let data = [];\r\n\t\t\t// data.push({ key: 2, value: this.rightCount2 });\r\n\t\t\t// data.push({ key: 3, value: this.rightCount3 });\r\n\t\t\t// data.push({ key: 4, value: this.rightCount4 });\r\n\t\t\t// data.push({ key: 5, value: this.rightCount5 });\r\n\t\t\t// data.push({ key: 6, value: this.rightCount6 });\r\n\t\t\t// this.testResult.data = data;\r\n\t\t\t// this.userScore = parseFloat(\r\n\t\t\t//   Math.log2(\r\n\t\t\t//     this.rightCount2 * Math.pow(2, 0) +\r\n\t\t\t//       this.rightCount3 * Math.pow(2, 1) +\r\n\t\t\t//       this.rightCount4 * Math.pow(2, 2) +\r\n\t\t\t//       this.rightCount5 * Math.pow(2, 3) +\r\n\t\t\t//       this.rightCount6 * Math.pow(2, 4)\r\n\t\t\t//   )\r\n\t\t\t// ).toFixed(2);\r\n\t\t\t// this.testResult.score = this.userScore;\r\n\r\n\t\t\tthis.testResult.data = this.rightCountList;\r\n\t\t\tlet sum = 0;\r\n\t\t\tif (this.rightCountList.length > 0) {\r\n\t\t\t\tthis.rightCountList.map((item) => {\r\n \r\n\t\t\t\t\tsum += item.value * Math.pow(2, item.key - 2)\r\n\t\t\t\t});\r\n\t\t\t}\r\n          this.testResult.score = isFinite( parseFloat(Math.log2(sum)).toFixed(2)) ?parseFloat(Math.log2(sum)).toFixed(2):'0';\r\n          this.userTestResultSave();\r\n\t\t},\r\n\t\tuserTestResultSave() {\r\n\r\n\t\t\tlet params = {\r\n\t\t\t\t...this.testResult\r\n\t\t\t}\r\n\t\t\t//跳转页面到结果页面\r\n\t\t\tlet par = this.$CryptoJS.AesEncrypt(JSON.stringify(params))\r\n\t\t\tthis.$request\r\n\t\t\t\t.post({\r\n\t\t\t\t\turl: cognizeADDITION,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tdata: par\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(\r\n\t\t\t\t\tresponse => {\r\n\t\t\t\t\t\tif (response?.code == 200) {\r\n\t\t\t\t\t\t\t//跳转新测试结果页面\r\n\t\t\t\t\t\t\tthis.goTestResult(response.data);\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: response?.msg\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.msg\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t},\r\n\t\tasync goTestResult(id) {\r\n\t\t\tawait getApp().getVersionId(id);\r\n\t\t\tlet isFalse = getApp().globalData.isTrue;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (isFalse) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: \"/cognitiveTasksTestResult/testResultNew?id=\" + id\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: \"/cognitiveTasksTestResult/testResult?id=\" + id + \"&messageShare=1&flag=\" + getApp()\r\n\t\t\t\t\t\t\t.globalData.flag\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log(\"旧====>\", isFalse)\r\n\t\t\t\t}\r\n\r\n\t\t\t}, 1000)\r\n\r\n\r\n\r\n\t\t},\r\n\t\t// goTestResult(id){\r\n\r\n\r\n\t\t// this.$http.get(`getRecordById?id=${id}`, {}, (res) => {\r\n\t\t//     if (res.code == 2001) {\r\n\t\t//         this.$toast.fail(res.msg);\r\n\t\t//         return;\r\n\t\t//     }\r\n\t\t//     if (res && res.code == 200) {\r\n\t\t//         if (JSON.parse(res.data?.userRecordEntity?.testResult).versionNo == \"2.0.1\") {\r\n\t\t//             //跳转新测试结果模版数据暂存本地\r\n\t\t//             // this.$store.dispatch('setTestResult',JSON.parse(res.data?.userRecordEntity?.testResult));\r\n\t\t//             this.$store.dispatch('setTestResult',res?.data);\r\n\t\t//             this.$router.push({\r\n\t\t//                 name: \"testResultNew\",\r\n\t\t//                 query: {\r\n\t\t//                     id: res.data?.userRecordEntity?.id,\r\n\t\t//                     title: res.data?.userRecordEntity?.name,\r\n\t\t//                     testPlanId: this.testPlanId || '',\r\n\t\t//                     come: 1, //1-来自认知任务列表，2-测试记录列表\r\n\t\t//                 },\r\n\t\t//             });\r\n\t\t//         } else {\r\n\t\t//             //跳转旧测试结果模版\r\n\r\n\t\t//             let testResult=  JSON.parse(res.data?.userRecordEntity?.testResult)[0].version;\r\n\r\n\t\t//             if( testResult == 2 ) {\r\n\t\t//                 this.$router.push(\"/testRecordsSCl?id=\" + id);\r\n\t\t//             }else {\r\n\t\t//                 this.$router.push( \"/testResult?flag=\" + res.data?.userRecordEntity?.flag + \"&id=\" + id);\r\n\t\t//             }\r\n\t\t//         }\r\n\r\n\t\t//     } else {\r\n\t\t//         this.$toast.fail(\"获取数据失败！服务器异常\");\r\n\t\t//     }\r\n\t\t// });\r\n\t\t// },\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import url('./css/continueAdditionTask.css');\r\n</style>\r\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./continueAdditionTask.vue?vue&type=style&index=0&id=27db0954&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./continueAdditionTask.vue?vue&type=style&index=0&id=27db0954&scoped=true&lang=css&\""],"sourceRoot":""}