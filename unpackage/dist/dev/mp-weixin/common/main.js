(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{0:function(e,t,o){"use strict";(function(e,t){o(5);var n=f(o(4)),r=f(o(6)),a=f(o(14)),u=o(15),i=f(o(21)),l=f(o(26)),c=f(o(28)),s=f(o(29));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}wx.__webpack_require_UNI_MP_PLUGIN__=o;var v=o(16),y=o(150),b=o(151);n.default.use(l.default),n.default.use(s.default),n.default.prototype.$noMultipleClicks=c.default.noMultipleClicks,n.default.prototype.$preloader=c.default.preloader,e.$u.setConfig({config:{unit:"rpx"},props:{}}),n.default.use(a.default),n.default.config.productionTip=!1,r.default.mpType="app",n.default.prototype.$photoUrl=u.photoUrl,n.default.prototype.$CryptoJS=v,n.default.prototype.$imageUrl=y,n.default.prototype.$aiUrl=y,n.default.prototype.$textContent=u.textContent,n.default.prototype.$md5=b,a.default.interceptor.request=function(e){var t,o,n=null===i.default||void 0===i.default||null===(t=i.default.getters)||void 0===t||null===(o=t.userInfo)||void 0===o?void 0:o.token;return n&&(e.header.Authorization="Bearer ".concat(n)),void 0===e.toastError&&(e.toastError=!0),e},a.default.interceptor.response=function(e,t){return 0===e.code&&(e.success=!0,t.businessSuccess=!0),e},a.default.interceptor.fail=function(t,o){var n,r=JSON.parse(t),a="";if(console.log("----main res---\x3e",typeof r),"2001"!=r.code)return 401==(null===(n=r)||void 0===n?void 0:n.code)?(e.clearStorageSync(),e.showToast({icon:"none",title:"please sign in"}),a=r.msg,r=r.data,e.navigateTo({url:"/pages/user/login"})):a=t.msg,o.toastError&&e.showToast({title:a,duration:2e3,icon:"none"}),r;e.showToast({icon:"error",title:r.msg})},n.default.prototype.$request=a.default;var m=new n.default(p({store:i.default},r.default));t(m).$mount()}).call(this,o(1)["default"],o(1)["createApp"])},18:function(e,t,o){"use strict";o.r(t);var n=o(19),r=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},19:function(e,t,o){},6:function(e,t,o){"use strict";o.r(t);var n=o(7);for(var r in n)"default"!==r&&function(e){o.d(t,e,(function(){return n[e]}))}(r);o(18);var a,u,i,l,c=o(20),s=Object(c["default"])(n["default"],a,u,!1,null,null,null,!1,i,l);s.options.__file="App.vue",t["default"]=s.exports},7:function(e,t,o){"use strict";o.r(t);var n=o(8),r=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},8:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(o(9)),r=o(12),a=o(13),u=l(o(14)),i=o(15);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,o,n,r,a,u){try{var i=e[a](u),l=i.value}catch(c){return void o(c)}i.done?t(l):Promise.resolve(l).then(n,r)}function s(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function u(e){c(a,n,r,u,i,"next",e)}function i(e){c(a,n,r,u,i,"throw",e)}u(void 0)}))}}function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){p(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o(16);var g={globalData:{isTrue:null,flag:null},data:function(){return{}},computed:d({},(0,r.mapGetters)(["userInfo"])),methods:{goBackTask:function(){e.switchTab({url:"/pages/tab/cognitiveTask/index"})},getVersionId:function(t){var o=this;return s(n.default.mark((function r(){return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u.default.get({url:"".concat(a.getRecordById,"?id=").concat(t),loadingTip:"加载中...",data:{}}).then((function(t){if(2001!=t.code){if(t&&200==t.code){var n,r;console.log("量表返回结果AppVue==",t);var a,u,l,c,s=JSON.parse(null===(n=t.data)||void 0===n||null===(r=n.userRecordEntity)||void 0===r?void 0:r.testResult).versionNo;if(s==i.VERSION_201)o.globalData.isTrue=!0;else if(o.globalData.isTrue=!1,null===(a=t.data)||void 0===a||null===(u=a.userRecordEntity)||void 0===u?void 0:u.flag)o.globalData.flag=null===(l=t.data)||void 0===l||null===(c=l.userRecordEntity)||void 0===c?void 0:c.flag}}else e.showToast({title:t.msg})}));case 2:case"end":return n.stop()}}),r)})))()},jumpToLoginParams:function(t,o,n,r){e.removeStorageSync("setUerInfo"),e.navigateTo({url:"/pages/user/login?flag="+t+"&id="+o+"&name="+n+"&reportVersion="+r+"&examWidght=examWidght"})},jumpToTestRecordLogin:function(){e.removeStorageSync("userInfoavatarUrl"),e.removeStorageSync("setUerInfo"),e.removeStorageSync("beginTextData"),e.navigateTo({url:"/pages/user/login"})},mpUpdate:function(){var t=e.getUpdateManager();t.onCheckForUpdate((function(o){o.hasUpdate&&e.showModal({content:"更新到最新版本",showCancel:!1,confirmText:"确定",success:function(o){o.confirm&&(t.onUpdateReady((function(e){t.applyUpdate()})),t.onUpdateFailed((function(t){e.showModal({content:"下载失败，请删除当前小程序后重新打开",showCancel:!1,confirmText:"知道了"})})))}})}))},percentageLineProgress:function(e,t){return 0==e||0==t?0:Math.round(e/t*1e4)/100},getUrl:function(e){return e.indexOf("%")>-1&&(e=e.replace(/%/g,"%25")),e},download:function(t){var o=e.downloadFile({url:"".concat(i.baseUrl,"/result/download/testResult?id=").concat(t),success:function(t){console.log("----6-----》",t.tempFilePath),console.log("----7-----》",JSON.stringify(t)),200===t.statusCode&&e.saveFile({tempFilePath:t.tempFilePath,success:function(t){console.log("下载成功"+t.savedFilePath),console.log(JSON.stringify(t)),e.showToast({icon:"none",mask:!0,title:"文件已保存!",duration:3e3}),e.openDocument({fileType:"xlsx",filePath:t.savedFilePath,success:function(e){console.log("打开文档成功")}})}})},fail:function(t){console.log(t),e.showToast({icon:"none",mask:!0,title:"失败请重新下载"})}});o.onProgressUpdate((function(e){console.log("下载进度"+e.progress)}))}}};t.default=g}).call(this,o(1)["default"])}},[[0,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/common/main.js.map