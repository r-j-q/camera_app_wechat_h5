require('./common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["cognitiveTasksPage/riskPolicy"],{257:function(t,e,n){"use strict";(function(t){n(5);r(n(4));var e=r(n(258));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},258:function(t,e,n){"use strict";n.r(e);var r=n(259),i=n(261);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n(264);var a,s=n(20),u=Object(s["default"])(i["default"],r["render"],r["staticRenderFns"],!1,null,"0ac2ab62",null,!1,r["components"],a);u.options.__file="cognitiveTasksPage/riskPolicy.vue",e["default"]=u.exports},259:function(t,e,n){"use strict";n.r(e);var r=n(260);n.d(e,"render",(function(){return r["render"]})),n.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(e,"components",(function(){return r["components"]}))},260:function(t,e,n){"use strict";var r;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return a})),n.d(e,"recyclableRender",(function(){return o})),n.d(e,"components",(function(){return r}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=!1,a=[];i._withStripped=!0},261:function(t,e,n){"use strict";n.r(e);var r=n(262),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},262:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(9)),i=n(263);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)}))}}var u={data:function(){return{risk_bg:"",currentLevel:0,aeratedCount:0,aeratedArr:[],boomProbability:0,totalEarn:0,scaleAnimate:"",userData:[],totalAerated:0,showResult:!1,boom:{},imgUrl:i.taskImgs.bool,inflate:{},collect:{},disabled:!1}},onShow:function(){this.risk_bg=i.taskImgs.risk_bg,this.createAeratedArr(),this.userId=this.$store.state.userInfo.user.id,this.voiceInit()},computed:{currentEarn:function(){return 1*this.aeratedCount}},methods:{createAeratedArr:function(){for(var t=0;t<10;t++){var e=Math.round(8*Math.random())+2;this.aeratedArr.push(e)}},goAerated:function(){var t=this;if(this.aeratedCount<this.aeratedArr[this.currentLevel])this.inflate.play(),this.aeratedCount++,this.scaleAnimate="scale(".concat(.05*this.aeratedCount+1,")");else{this.disabled=!0;var e=this.aeratedCount;this.boom.play(),this.imgUrl=i.taskImgs.boom,setTimeout((function(){t.imgUrl=i.taskImgs.bool,t.totalAerated+=t.aeratedCount,t.userData.push({index:t.currentLevel+1,currentEarn:0,numberPumps:e,explosion:!0}),t.currentLevel>=9?t.saveUserData():(t.currentLevel++,t.aeratedCount=0,t.scaleAnimate="scale(1)",t.disabled=!1)}),500)}},screen:function(){screenfull.toggle()},getMony:function(){this.currentEarn>0&&(this.collect.play(),this.totalEarn+=this.currentEarn,this.totalAerated+=this.aeratedCount,this.userData.push({index:this.currentLevel+1,currentEarn:this.currentEarn,numberPumps:this.aeratedCount,explosion:!1}),this.currentLevel>=9?this.saveUserData():(this.aeratedCount=0,this.currentLevel++,this.scaleAnimate="scale(1)"))},returnHome:function(){this.screen(),t.navigateTo({url:"/welcome/CognitiveAbility"})},saveUserData:function(){var e=this,n={userId:this.userId,totalEarned:this.totalEarn,rawData:this.userData,testPlanId:"",totalAerated:this.totalAerated},r=this.$CryptoJS.AesEncrypt(JSON.stringify(n));this.$request.post({url:"cognize/RDT",data:{data:r}}).then((function(n){200==(null===n||void 0===n?void 0:n.code)?e.goTestResult(n.data):t.showToast({title:null===n||void 0===n?void 0:n.msg})}),(function(e){t.showToast({title:e.msg})}))},goTestResult:function(e){return s(r.default.mark((function n(){var i;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,getApp().getVersionId(e);case 2:i=getApp().globalData.isTrue,setTimeout((function(){i?t.navigateTo({url:"/cognitiveTasksTestResult/testResultNew?id="+e}):(t.navigateTo({url:"/cognitiveTasksTestResult/testResult?id="+e+"&messageShare=1&flag="+getApp().globalData.flag}),console.log("æ—§====>",i))}),1e3);case 4:case"end":return n.stop()}}),n)})))()},voiceInit:function(){this.boom=t.createInnerAudioContext(),this.boom.src="https://test.jue-ming.com:8849/api/show?filePath=./images/1d676264-f311-4650-9b17-b8b0d36198c5.wav",this.inflate=t.createInnerAudioContext(),this.inflate.src="https://test.jue-ming.com:8849/api/show?filePath=./images/8c2e3e60-b965-48f0-9fff-0dc6ac143b2d.mp3",this.collect=t.createInnerAudioContext(),this.collect.src="https://test.jue-ming.com:8849/api/show?filePath=./images/a1f9f76a-46a8-4e08-bd0b-fb28501ac0f3.mp3"},drawLine1:function(){var t=this;this.$nextTick((function(){var e=t.$echarts.init(document.getElementById("one"));e.setOption({series:[{type:"gauge",progress:{show:!0,width:5,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#98F0FF"},{offset:1,color:"#FFBA43"}],global:!1},borderColor:"#000000",borderWidth:0}},axisLine:{lineStyle:{width:5}},axisTick:{show:!1},splitLine:{length:5,lineStyle:{width:1,color:"#999"}},axisLabel:{distance:5,color:"#999",fontSize:10},anchor:{show:!0,showAbove:!0,size:5,itemStyle:{borderWidth:5}},title:{show:!1},detail:{valueAnimation:!0,fontSize:15,offsetCenter:[0,"60%"]},data:[{value:t.totalAerated}]}]})}))},drawLine2:function(){var t=this;this.$nextTick((function(){var e=t.$echarts.init(document.getElementById("two"));e.setOption({series:[{type:"gauge",progress:{show:!0,width:5,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#98F0FF"},{offset:1,color:"#FFBA43"}],global:!1},borderColor:"#000000",borderWidth:0}},axisLine:{lineStyle:{width:5}},axisTick:{show:!1},splitLine:{length:5,lineStyle:{width:1,color:"#999"}},axisLabel:{distance:5,color:"#999",fontSize:10},anchor:{show:!0,showAbove:!0,size:5,itemStyle:{borderWidth:5}},title:{show:!1},detail:{valueAnimation:!0,fontSize:15,offsetCenter:[0,"60%"]},data:[{value:t.totalEarn}]}]})}))}}};e.default=u}).call(this,n(1)["default"])},264:function(t,e,n){"use strict";n.r(e);var r=n(265),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},265:function(t,e,n){}},[[257,"common/runtime","common/vendor","cognitiveTasksPage/common/vendor"]]]);
//# sourceMappingURL=../../.sourcemap/mp-weixin/cognitiveTasksPage/riskPolicy.js.map