(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["scaleTestResults/testResults/index"],{345:function(e,t,n){"use strict";(function(e){n(5);o(n(4));var t=o(n(346));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},346:function(e,t,n){"use strict";n.r(t);var o=n(347),r=n(349);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);n(351);var a,u=n(20),c=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"efcc58c0",null,!1,o["components"],a);c.options.__file="scaleTestResults/testResults/index.vue",t["default"]=c.exports},347:function(e,t,n){"use strict";n.r(t);var o=n(348);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},348:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return s})),n.d(t,"components",(function(){return o}));try{o={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,596))},uRow:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-row/u-row")]).then(n.bind(null,618))},uCol:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-col/u-col")]).then(n.bind(null,626))},uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,528))},uGap:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-gap/u-gap")]).then(n.bind(null,536))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,480))}}}catch(u){if(-1===u.message.indexOf("Cannot find module")||-1===u.message.indexOf(".vue"))throw u;console.error(u.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,t=e.$createElement,n=(e._self._c,2==e.testResult?e.totalScores.toFixed(2):null);e.$mp.data=Object.assign({},{$root:{g0:n}})},s=!1,a=[];r._withStripped=!0},349:function(e,t,n){"use strict";n.r(t);var o=n(350),r=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=r.a},350:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(15),r=n(12),s=n(13);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,l=function(){n.e("components/mpvueEcharts/leiDa").then(function(){return resolve(n(676))}.bind(null,n)).catch(n.oe)},d=function(){n.e("scaleTestResults/components/unTable").then(function(){return resolve(n(683))}.bind(null,n)).catch(n.oe)},m={name:"testResults",components:{leiDa:l,unTable:d},computed:u({},(0,r.mapGetters)(["userInfo"])),data:function(){return{getBenDatas:null,avatarUrl:"",petName:"",showTestedPerson:!1,baseUrl:o.baseUrl,name:"",time:"",persion:this.$imageUrl.urls.persion,totalScores:0,symptomScore:[],symptomDescription:[],symptom:"",reference:[],scoreList:[],indicator:[],improvementSuggestions:"无",scoresList:[],resultId:"",subjectOrCognitiveId:"",testResult:2,imgUrl:"",messageShare:0,productList:[{name:"谢谢您的参与，阅读本报告时，请注意以下内容："},{name:". 本结果仅供参考，不可作为临床诊断的依据"},{name:". 如结果与你自己或他人感知的有出入，可回忆在测试"},{name:"时是否有事情影响了你，或自己答题时是否有所顾虑"},{name:". 如对报告有不理解的地方，建议向专业人员进行咨询"}]}},onShareAppMessage:function(t){var n=this,o=e.getStorageSync("uerInfonickName"),r={path:"/scaleTestResults/testResults/index?resultId="+n.resultId+"&avatarUrl="+e.getStorageSync("userInfoavatarUrl")+"&petName="+o,imageUrl:"",success:function(e){e.errMsg},fail:function(){"shareAppMessage:fail cancel"==res.errMsg||res.errMsg}};if("button"==t.from){var s,a;t.target.dataset;r.path="/scaleTestResults/testResults/index?resultId="+n.resultId+"&avatarUrl="+e.getStorageSync("userInfoavatarUrl")+"&petName="+(null===(s=n.userInfo)||void 0===s||null===(a=s.user)||void 0===a?void 0:a.petName)}return r},onBackPress:function(t){return e.redirectTo({url:"/pages/tab/scaleTest/index"}),!0},onLoad:function(t){i=this;var n,o,r=e.getStorageSync("beginTextData");if(r){var s=JSON.parse(r);i.getBenDatas=s}t.resultId&&(t.petName&&(i.showTestedPerson=!0),1==t.messageShare&&(this.messageShare=t.messageShare),i.avatarUrl=t.avatarUrl||e.getStorageSync("userInfoavatarUrl"),i.petName=t.petName||(null===(n=i.userInfo)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.petName),i.resultId=t.resultId,i.getScaleTestResults(i.resultId))},onReachBottom:function(){},methods:{navBackTest:function(){e.$emit("updateData",encodeURIComponent(JSON.stringify(this.getBenDatas))),e.navigateBack({delta:2})},leftClick:function(){console.log("-this.messageShare------\x3e",this.messageShare),1==this.messageShare?e.switchTab({url:"/pages/tab/scaleTest/index"}):e.navigateBack()},downloads:function(){getApp().download(i.resultId)},navBack:function(){this.leftClick()},getScaleTestResults:function(e){i.$request.get({url:"".concat(s.getRecordById,"?id=").concat(e),loadingTip:"加载中...",data:{}}).then((function(e){if(console.log("----测试结果---\x3e",e),200==e.code){var t,n;i.testResult=parseInt(JSON.parse(null===(t=e.data)||void 0===t||null===(n=t.userRecordEntity)||void 0===n?void 0:n.testResult)[0].version),i.name=e.data.userRecordEntity.name;var o=e.data.userRecordEntity.testDate,r=o.replace("年","/").replace("月","/").replace("日"," ").replace("时",":").replace("分",":").replace("秒","");i.time=r,2==i.testResult?i.getDataList(e.data):(i.scoresList=JSON.parse(e.data.userRecordEntity.testResult),i.init(i.scoresList[0].tableContext[0].value[0]))}else e.code}))},init:function(e){i.totalScores=Number(parseInt(e))},getDataList:function(e){var t=JSON.parse(e.userRecordEntity.testResult);i.scoresList=t,console.log("-----传入的参数-----\x3e",t),t.forEach((function(e){if(""!=e.newTableContext.iconInfo){var t,n,o,r,s,a,u=null===e||void 0===e||null===(t=e.newTableContext)||void 0===t||null===(n=t.iconInfo)||void 0===n?void 0:n.indicator;u.length>0&&u.forEach((function(e){i.indicator.push({text:e.text,max:Number(e.max)})}));var c=(null===e||void 0===e||null===(o=e.newTableContext)||void 0===o||null===(r=o.iconInfo)||void 0===r?void 0:r.reference)||[];c.length>0&&c.forEach((function(e){i.reference.push(Number(e))}));var l=null===e||void 0===e||null===(s=e.newTableContext)||void 0===s||null===(a=s.iconInfo)||void 0===a?void 0:a.scoreList;l.length>0&&l.forEach((function(e){i.scoreList.push(Number(e))})),console.log("==1111=====>",i.indicator),console.log("==2222=====>",i.reference),console.log("==3333=====>",i.scoreList)}e.newTableContext.result.forEach((function(e){e&&("总分"!==e.name&&"压力综合指数"!==e.name||(i.init(e.score),i.symptom=e.symptom),"是"===e.isTotalScoreExplain&&(i.improvementSuggestions=e.symptom),i.symptomScore.push({name:e.name,score:e.score}),i.symptomDescription.push({symptom:e.symptom,name:e.name,improvementSuggestions:e.improvementSuggestions}))})),console.log("0000-----000",i.symptomDescription)}))},getPDF:function(){var t=e.createSelectorQuery().select("#targetDom");console.log("------\x3e",t),t.scrollWidth=750}}};t.default=m}).call(this,n(1)["default"])},351:function(e,t,n){"use strict";n.r(t);var o=n(352),r=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=r.a},352:function(e,t,n){}},[[345,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/scaleTestResults/testResults/index.js.map