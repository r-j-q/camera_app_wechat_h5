require('./common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["cognitiveTasksPage/ruiWenTask"],{"1b29":function(t,e,s){"use strict";var n=s("fcf5"),i=s.n(n);i.a},"494d":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(s("a34a")),i=s("6df0"),r=o(s("d977"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,s,n,i,r,o){try{var a=t[r](o),u=a.value}catch(c){return void s(c)}a.done?e(u):Promise.resolve(u).then(n,i)}function u(t){return function(){var e=this,s=arguments;return new Promise((function(n,i){var r=t.apply(e,s);function o(t){a(r,n,i,o,u,"next",t)}function u(t){a(r,n,i,o,u,"throw",t)}o(void 0)}))}}function c(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function h(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?c(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d={name:"ruiWenTask",data:function(){return{ruiWenTask:this.$imageUrl.urls.ruiWenTask,userId:"",userTestResult:{},userAnswerList:[],buttonPre:"方块 ",imgUrl:"",examImgUrl:"",taskId:"",userAnswer:"",examIndex:1,showMoreSlect:!1,examIndexShow:!1,radioShow:!1,testFlag:!1,testState:!1,taskList:"",saveFlag:!1,subjectInfo:"",divShow:!1,buttonShow:!0,passTestExam:!1,buttonName:"开始测试",testTypeCode:0,userRightCount:0,verdict:"",brainsLevel:"",userFinalTestStrShow:!1,answerList:[],chooseAnswer:"",isLoading:!1,testPlanId:""}},onLoad:function(t){this.testPlanId=t.testPlanId||""},onShow:function(){this.userId="",this.userTestResult={},this.userAnswerList=[],this.buttonPre="方块 ",this.imgUrl="",this.examImgUrl="",this.taskId="",this.userAnswer="",this.examIndex=1,this.showMoreSlect=!1,this.examIndexShow=!1,this.radioShow=!1,this.testFlag=!1,this.testState=!1,this.taskList="",this.saveFlag=!1,this.subjectInfo="",this.divShow=!1,this.buttonShow=!0,this.passTestExam=!1,this.buttonName="开始测试",this.testTypeCode=0,this.userRightCount=0,this.verdict="",this.brainsLevel="",this.userFinalTestStrShow=!1,this.answerList=[],this.chooseAnswer="",this.isLoading=!1,this.testPlanId="",this.init(),this.startTest()},onShareAppMessage:function(t){var e={path:"/cognitiveTasksPage/ruiWenTask?examWidght=ruiWenTask&FROMTO=cognitiveTasksPage",imageUrl:"",success:function(t){t.errMsg},fail:function(){"shareAppMessage:fail cancel"==res.errMsg||res.errMsg}};if("button"==t.from){t.target.dataset;e.path="/cognitiveTasksPage/ruiWenTask?examWidght=ruiWenTask&FROMTO=cognitiveTasksPage"}return e},methods:{init:function(){this.userId=this.$store.state.userInfo.user.id,this.taskList=r.default,this.taskList.forEach((function(t){t.userAnswer=""})),this.examImgUrl=this.taskList[0].imageUrl,this.answerList=this.taskList[0].answerList},format:function(t){return 100===t?"测试已完成":"总进度"},format1:function(t){return"知觉辨别"},format2:function(t){return"类同比较"},format3:function(t){return"比较推理"},format4:function(t){return"系列关系"},format5:function(t){return"抽象推理"},userClick:function(t){var e=this;this.isLoading||(this.isLoading=!0,t==this.taskList[this.examIndex-1].rightAnswer?(this.userRightCount++,this.userAnswerList.push({key:this.examIndex,value:t,score:1,rightAnswer:this.taskList[this.examIndex-1].rightAnswer})):this.userAnswerList.push({key:this.examIndex,value:t,score:0,rightAnswer:this.taskList[this.examIndex-1].rightAnswer}),this.taskList[this.examIndex-1].userAnswer=t,setTimeout((function(){60==e.examIndex?e.testEnd():e.examIndex<60&&(e.examImgUrl=e.taskList[e.examIndex].imageUrl,e.answerList=e.taskList[e.examIndex].answerList,e.examIndex++,e.isLoading=!1)}),300))},startTest:function(){if(""==this.$store.state.userInfo.user.id)return t.showToast({icon:"none",title:"请先登录"}),void getApp().jumpToTestRecordLogin();this.buttonShow=!1,this.testFlag=!0,this.examIndexShow=!0,this.radioShow=!0,this.testState=!0},testEnd:function(){var e=this;this.testFlag=!1,this.testState=!1,this.radioShow=!1,this.examImgUrl="",t.showToast({icon:"none",title:"测试结束!"}),this.examIndexShow=!1,this.userTestResult.data=this.userAnswerList,this.userTestResult.userId=this.userId,this.userTestResult.userScore=this.userRightCount,this.userTestResult.testPlanId=this.testPlanId||"";var s=h({},this.userTestResult),n=this.$CryptoJS.AesEncrypt(JSON.stringify(s));this.$request.post({url:i.cognizeRIVEN,data:{data:n}}).then((function(s){200==(null===s||void 0===s?void 0:s.code)?e.goTestResult(s.data):t.showToast({title:null===s||void 0===s?void 0:s.msg})}),(function(e){t.showToast({title:e.msg})}))},computeScore:function(){},goTestResult:function(e){return u(n.default.mark((function s(){var i;return n.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,getApp().getVersionId(e);case 2:i=getApp().globalData.isTrue,i?(console.log("isFalse===为true=>",i),t.navigateTo({url:"/cognitiveTasksTestResult/testResultNew?id="+e+"&messageShare=1"})):console.log("isFalse==false==>",i);case 4:case"end":return s.stop()}}),s)})))()}}};e.default=d}).call(this,s("543d")["default"])},"9fcb":function(t,e,s){"use strict";s.r(e);var n=s("fcf1"),i=s("ce24");for(var r in i)"default"!==r&&function(t){s.d(e,t,(function(){return i[t]}))}(r);s("1b29");var o,a=s("f0c5"),u=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,"6adcbd63",null,!1,n["a"],o);e["default"]=u.exports},ce24:function(t,e,s){"use strict";s.r(e);var n=s("494d"),i=s.n(n);for(var r in n)"default"!==r&&function(t){s.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a},dd51:function(t,e,s){"use strict";(function(t){s("9263");n(s("66fd"));var e=n(s("9fcb"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=s,t(e.default)}).call(this,s("543d")["createPage"])},fcf1:function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"c",(function(){return r})),s.d(e,"a",(function(){return n}));var n={uLineProgress:function(){return Promise.all([s.e("common/vendor"),s.e("node-modules/uview-ui/components/u-line-progress/u-line-progress")]).then(s.bind(null,"4cd3"))},uButton:function(){return Promise.all([s.e("common/vendor"),s.e("node-modules/uview-ui/components/u-button/u-button")]).then(s.bind(null,"e8d6"))}},i=function(){var t=this,e=t.$createElement,s=(t._self._c,t.testFlag?(t.examIndex-1<0?0:(t.examIndex-1)/60*100).toFixed(2):null);t.$mp.data=Object.assign({},{$root:{g0:s}})},r=[]},fcf5:function(t,e,s){}},[["dd51","common/runtime","common/vendor","cognitiveTasksPage/common/vendor"]]]);