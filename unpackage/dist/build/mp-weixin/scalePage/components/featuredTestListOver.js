(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["scalePage/components/featuredTestListOver"],{"28e0":function(e,t,r){"use strict";r.r(t);var n=r("4b62"),a=r.n(n);for(var o in n)"default"!==o&&function(e){r.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"313b":function(e,t,r){"use strict";var n=r("74ba"),a=r.n(n);a.a},"3bd6":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return n}));var n={uTag:function(){return Promise.all([r.e("common/vendor"),r.e("node-modules/uview-ui/components/u-tag/u-tag")]).then(r.bind(null,"da26"))}},a=function(){var e=this,t=e.$createElement;e._self._c},o=[]},"4b62":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("a34a")),a=r("6df0"),o=r("26cb");function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,a,o,i){try{var u=e[o](i),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,s,"next",e)}function s(e){u(o,n,a,i,s,"throw",e)}i(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(){r.e("components/textFile/textGrf").then(function(){return resolve(r("ba9a"))}.bind(null,r)).catch(r.oe)},p={props:["featuredList"],components:{textGrf:f},computed:l({},(0,o.mapGetters)(["userInfo"])),data:function(){return{one0JpgList:[this.$imageUrl.urls.one0Jpg0,this.$imageUrl.urls.one0Jpg1,this.$imageUrl.urls.one0Jpg2,this.$imageUrl.urls.one0Jpg3,this.$imageUrl.urls.one0Jpg4,this.$imageUrl.urls.one0Jpg5],one0Jpg0:this.$imageUrl.urls.one0Jpg0,rd_icon0:this.$imageUrl.urls.rd_icon0,price:"",resultId:"",timer:"",orderNo:""}},onHide:function(){clearInterval(this.timer)},methods:{getH5Pay:function(e){var t=this,r=t.$CryptoJS.AesEncrypt(JSON.stringify(e));t.$request.post({url:"".concat(a.h5Pay),loadingTip:"加载中...",data:{data:r}}).then((function(e){var r="".concat(e.data.codeUrl,"&redirect_url=").concat(url,":8999/scalePage/paymentStatus/index?resultId=").concat(t.resultId,"&orderNo=").concat(t.orderNo);window.open(r)}))},navTo:function(t){var r=this;return s(n.default.mark((function a(){var o;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=r,e.removeStorageSync("beginTextData"),0!=t.type){n.next=7;break}o.resultId=t.id,o.getPayType(t.subjectOrCognitiveId,t.id),n.next=16;break;case 7:if(console.log("=11111name========>",t.name),"形状知觉测试(自上而下)"!=t.name&&"瑞文智力测试"!=t.name){n.next=12;break}e.navigateTo({url:"/cognitiveTasksTestResult/testResultNew?id="+t.id+"&messageShare=0"}),n.next=16;break;case 12:return console.log("=11111========>",t.id),n.next=15,getApp().getVersionId(t.id);case 15:e.navigateTo({url:"/cognitiveTasksTestResult/testResult?id="+t.id+"&messageShare=0&flag="+getApp().globalData.flag});case 16:case"end":return n.stop()}}),a)})))()},getPayType:function(t,r){var n,o,i=this;i.$request.get({url:a.getQueryOrderByResultIdAndUserId+"/"+t+"/"+(null===(n=i.userInfo)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.id)+"/"+r,loadingTip:"加载中...",data:{}}).then((function(r){console.log("=获取支付金额接口数据====》",r),"200"==r.code&&(null==r.data?i.getQueryPromotionBySubjectId(t):e.navigateTo({url:"/scaleTestResults/testResults/index?resultId="+i.resultId}))}))},getQueryOrder:function(t){var r=this;r.$request.get({url:a.queryOrder+"/"+t,loadingTip:"加载中...",data:{}}).then((function(t){var n=JSON.parse(t.data.body);"200"==t.code?"SUCCESS"==n.trade_state?(clearInterval(r.timer),e.navigateTo({url:"/scaleTestResults/testResults/index?resultId="+r.resultId}),e.showToast({title:"支付成功"})):"CLOSED"==n.trade_state||clearInterval(r.timer):e.showToast({title:"支付失败"})}))},payWchat:function(t,r,n,a,o,i,u){var s=this;e.requestPayment({provider:t,timeStamp:r,nonceStr:n,package:a,signType:o,paySign:i,success:function(e){s.timer=setInterval((function(){s.getQueryOrder(u)}),1e3)},fail:function(e){}})},getNative:function(e){var t=this,r=t.$CryptoJS.AesEncrypt(JSON.stringify(e));t.$request.post({url:"".concat(a.native),loadingTip:"加载中...",data:{data:r}}).then((function(e){t.orderNo=e.data.orderNo,console.log("==1=====》",e.data.orderNo);var r=JSON.parse(e.data.codeUrl);t.payWchat(r.provider,r.timeStamp,r.nonceStr,r.package,r.signType,r.paySign,e.data.orderNo)}))},getQueryPromotionBySubjectId:function(t){var r=this,n=a.queryPromotionBySubjectId+"/"+t;r.$request.get({url:n,loadingTip:"加载中...",data:{}}).then((function(n){if(console.log("=获取支付金额接口数据====》",n),r.price=n.data.price,0==n.data.price)e.navigateTo({url:"/scaleTestResults/testResults/index?resultId="+r.resultId});else{var a,o,i,u,s={productId:t,userId:null===(a=r.userInfo)||void 0===a||null===(o=a.user)||void 0===o?void 0:o.id,resultId:r.resultId,description:n.data.name,total:n.data.price,openId:null===(i=r.userInfo)||void 0===i||null===(u=i.openId)||void 0===u?void 0:u.openId};r.getNative(s)}}))}}};t.default=p}).call(this,r("543d")["default"])},"640a":function(e,t,r){"use strict";r.r(t);var n=r("3bd6"),a=r("28e0");for(var o in a)"default"!==o&&function(e){r.d(t,e,(function(){return a[e]}))}(o);r("313b");var i,u=r("f0c5"),s=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"63155f52",null,!1,n["a"],i);t["default"]=s.exports},"74ba":function(e,t,r){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'scalePage/components/featuredTestListOver-create-component',
    {
        'scalePage/components/featuredTestListOver-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("640a"))
        })
    },
    [['scalePage/components/featuredTestListOver-create-component']]
]);
