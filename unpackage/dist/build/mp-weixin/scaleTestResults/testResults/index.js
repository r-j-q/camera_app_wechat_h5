(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["scaleTestResults/testResults/index"],{"0faa":function(e,t,n){"use strict";n.r(t);var o=n("4226"),r=n("e6dc");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("942b");var s,u=n("f0c5"),i=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,"47ed0709",null,!1,o["a"],s);t["default"]=i.exports},4226:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,"3f94"))},uRow:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-row/u-row")]).then(n.bind(null,"db88"))},uCol:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-col/u-col")]).then(n.bind(null,"7fcb"))},uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"cf4b"))},uGap:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-gap/u-gap")]).then(n.bind(null,"e623"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"e8d6"))}},r=function(){var e=this,t=e.$createElement,n=(e._self._c,2==e.testResult?e.totalScores.toFixed(2):null);e.$mp.data=Object.assign({},{$root:{g0:n}})},a=[]},"4b87":function(e,t,n){"use strict";(function(e){n("9263");o(n("66fd"));var t=o(n("0faa"));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},"71bd":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("5cc2"),r=n("26cb"),a=n("6df0");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,c=function(){n.e("components/mpvueEcharts/leiDa").then(function(){return resolve(n("4c70"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("scaleTestResults/components/unTable").then(function(){return resolve(n("c065"))}.bind(null,n)).catch(n.oe)},m={name:"testResults",components:{leiDa:c,unTable:d},computed:u({},(0,r.mapGetters)(["userInfo"])),data:function(){return{getBenDatas:null,avatarUrl:"",petName:"",showTestedPerson:!1,baseUrl:o.baseUrl,name:"",time:"",persion:this.$imageUrl.urls.persion,totalScores:0,symptomScore:[],symptomDescription:[],symptom:"",reference:[],scoreList:[],indicator:[],improvementSuggestions:"无",scoresList:[],resultId:"",subjectOrCognitiveId:"",testResult:2,imgUrl:"",messageShare:0,productList:[{name:"谢谢您的参与，阅读本报告时，请注意以下内容："},{name:". 本结果仅供参考，不可作为临床诊断的依据"},{name:". 如结果与你自己或他人感知的有出入，可回忆在测试"},{name:"时是否有事情影响了你，或自己答题时是否有所顾虑"},{name:". 如对报告有不理解的地方，建议向专业人员进行咨询"}]}},onShareAppMessage:function(t){var n,o,r=this,a={path:"/scaleTestResults/testResults/index?resultId="+r.resultId+"&avatarUrl="+e.getStorageSync("userInfoavatarUrl")+"&petName="+(null===(n=r.userInfo)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.petName),imageUrl:"",success:function(e){e.errMsg},fail:function(){"shareAppMessage:fail cancel"==res.errMsg||res.errMsg}};if("button"==t.from){var s,u;t.target.dataset;a.path="/scaleTestResults/testResults/index?resultId="+r.resultId+"&avatarUrl="+e.getStorageSync("userInfoavatarUrl")+"&petName="+(null===(s=r.userInfo)||void 0===s||null===(u=s.user)||void 0===u?void 0:u.petName)}return a},onBackPress:function(t){return e.redirectTo({url:"/pages/tab/scaleTest/index"}),!0},onLoad:function(t){l=this;var n,o,r=e.getStorageSync("beginTextData");if(r){var a=JSON.parse(r);l.getBenDatas=a}t.resultId&&(t.petName&&(l.showTestedPerson=!0),1==t.messageShare&&(this.messageShare=t.messageShare),l.avatarUrl=t.avatarUrl||e.getStorageSync("userInfoavatarUrl"),l.petName=t.petName||(null===(n=l.userInfo)||void 0===n||null===(o=n.user)||void 0===o?void 0:o.petName),l.resultId=t.resultId,l.getScaleTestResults(l.resultId))},onReachBottom:function(){},methods:{navBackTest:function(){e.$emit("updateData",encodeURIComponent(JSON.stringify(this.getBenDatas))),e.navigateBack({delta:2})},leftClick:function(){console.log("-this.messageShare------\x3e",this.messageShare),1==this.messageShare?e.switchTab({url:"/pages/tab/scaleTest/index"}):e.navigateBack()},downloads:function(){getApp().download(l.resultId)},navBack:function(){this.leftClick()},getScaleTestResults:function(e){l.$request.get({url:"".concat(a.getRecordById,"?id=").concat(e),loadingTip:"加载中...",data:{}}).then((function(e){if(console.log("----测试结果---\x3e",e),200==e.code){var t,n;l.testResult=parseInt(JSON.parse(null===(t=e.data)||void 0===t||null===(n=t.userRecordEntity)||void 0===n?void 0:n.testResult)[0].version),l.name=e.data.userRecordEntity.name;var o=e.data.userRecordEntity.testDate,r=o.replace("年","/").replace("月","/").replace("日"," ").replace("时",":").replace("分",":").replace("秒","");l.time=r,2==l.testResult?l.getDataList(e.data):(l.scoresList=JSON.parse(e.data.userRecordEntity.testResult),l.init(l.scoresList[0].tableContext[0].value[0]))}else e.code}))},init:function(e){l.totalScores=Number(parseInt(e))},getDataList:function(e){var t=JSON.parse(e.userRecordEntity.testResult);l.scoresList=t,console.log("-----传入的参数-----\x3e",t),t.forEach((function(e){if(""!=e.newTableContext.iconInfo){var t,n,o,r,a,s,u=null===e||void 0===e||null===(t=e.newTableContext)||void 0===t||null===(n=t.iconInfo)||void 0===n?void 0:n.indicator;u.length>0&&u.forEach((function(e){l.indicator.push({text:e.text,max:Number(e.max)})}));var i=(null===e||void 0===e||null===(o=e.newTableContext)||void 0===o||null===(r=o.iconInfo)||void 0===r?void 0:r.reference)||[];i.length>0&&i.forEach((function(e){l.reference.push(Number(e))}));var c=null===e||void 0===e||null===(a=e.newTableContext)||void 0===a||null===(s=a.iconInfo)||void 0===s?void 0:s.scoreList;c.length>0&&c.forEach((function(e){l.scoreList.push(Number(e))})),console.log("==1111=====>",l.indicator),console.log("==2222=====>",l.reference),console.log("==3333=====>",l.scoreList)}e.newTableContext.result.forEach((function(e){e&&("总分"!==e.name&&"压力综合指数"!==e.name||(l.init(e.score),l.symptom=e.symptom),"是"===e.isTotalScoreExplain&&(l.improvementSuggestions=e.symptom),l.symptomScore.push({name:e.name,score:e.score}),l.symptomDescription.push({symptom:e.symptom,name:e.name,improvementSuggestions:e.improvementSuggestions}))})),console.log("0000-----000",l.symptomDescription)}))},getPDF:function(){var t=e.createSelectorQuery().select("#targetDom");console.log("------\x3e",t),t.scrollWidth=750}}};t.default=m}).call(this,n("543d")["default"])},"942b":function(e,t,n){"use strict";var o=n("bf88"),r=n.n(o);r.a},bf88:function(e,t,n){},e6dc:function(e,t,n){"use strict";n.r(t);var o=n("71bd"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a}},[["4b87","common/runtime","common/vendor"]]]);